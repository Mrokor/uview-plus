import{d as e,o as a,c as o,w as t,b as r,F as s,r as n,a as i,n as l,g as u,t as c,p as d,h as p,i as _,l as m,f as b,k as h}from"./index-aa2b8fb8.js";import{_ as y}from"./u-icon.9dfb5cac.js";import{r as k}from"./uni-app.es.392722c2.js";import{m as f,a as v}from"./mixin.d0c91ebc.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as g}from"./u-popup.ee745905.js";const $=C({mixins:[f,v,{props:{mode:{type:String,default:()=>uni.$u.props.numberKeyboard.value},dotDisabled:{type:Boolean,default:()=>uni.$u.props.numberKeyboard.dotDisabled},random:{type:Boolean,default:()=>uni.$u.props.numberKeyboard.random}}}],data:()=>({backspace:"backspace",dot:".",timer:null,cardX:"X"}),computed:{numList(){return this.dotDisabled&&"number"==this.mode?this.random?uni.$u.randomArray([1,2,3,4,5,6,7,8,9,0]):[1,2,3,4,5,6,7,8,9,0]:this.dotDisabled||"number"!=this.mode?"card"==this.mode?this.random?uni.$u.randomArray([1,2,3,4,5,6,7,8,9,this.cardX,0]):[1,2,3,4,5,6,7,8,9,this.cardX,0]:void 0:this.random?uni.$u.randomArray([1,2,3,4,5,6,7,8,9,this.dot,0]):[1,2,3,4,5,6,7,8,9,this.dot,0]},itemStyle(){return e=>{let a={};return"number"==this.mode&&this.dotDisabled&&9==e&&(a.width="464rpx"),a}},btnBgGray(){return e=>!this.random&&9==e&&("number"!=this.mode||"number"==this.mode&&!this.dotDisabled)}},created(){},emits:["backspace","change"],methods:{backspaceClick(){this.$emit("backspace"),clearInterval(this.timer),this.timer=null,this.timer=setInterval((()=>{this.$emit("backspace")}),250)},clearTimer(){clearInterval(this.timer),this.timer=null},keyboardClick(e){this.dotDisabled||e==this.dot||e==this.cardX||(e=Number(e)),this.$emit("change",e)}}},[["render",function(m,b,h,f,v,C){const g=p,$=_,w=k(e("u-icon"),y);return a(),o($,{class:"u-keyboard",onTouchmove:d(m.noop,["stop","prevent"])},{default:t((()=>[(a(!0),r(s,null,n(C.numList,((e,r)=>(a(),o($,{class:"u-keyboard__button-wrapper",key:r},{default:t((()=>[i($,{class:"u-keyboard__button-wrapper__button",style:l([C.itemStyle(r)]),onClick:a=>C.keyboardClick(e),"hover-class":"u-hover-class","hover-stay-time":200},{default:t((()=>[i(g,{class:"u-keyboard__button-wrapper__button__text"},{default:t((()=>[u(c(e),1)])),_:2},1024)])),_:2},1032,["style","onClick"])])),_:2},1024)))),128)),i($,{class:"u-keyboard__button-wrapper"},{default:t((()=>[i($,{class:"u-keyboard__button-wrapper__button u-keyboard__button-wrapper__button--gray","hover-class":"u-hover-class","hover-stay-time":200,onTouchstart:d(C.backspaceClick,["stop"]),onTouchend:C.clearTimer},{default:t((()=>[i(w,{name:"backspace",color:"#303133",size:"28"})])),_:1},8,["onTouchstart","onTouchend"])])),_:1})])),_:1},8,["onTouchmove"])}],["__scopeId","data-v-b199cf29"]]);const w=C({name:"u-keyboard",mixins:[f,v,{props:{random:{type:Boolean,default:!1},autoChange:{type:Boolean,default:!1}}}],data:()=>({abc:!1}),computed:{areaList(){let e=["京","沪","粤","津","冀","豫","云","辽","黑","湘","皖","鲁","苏","浙","赣","鄂","桂","甘","晋","陕","蒙","吉","闽","贵","渝","川","青","琼","宁","挂","藏","港","澳","新","使","学"],a=[];return this.random&&(e=uni.$u.randomArray(e)),a[0]=e.slice(0,10),a[1]=e.slice(10,20),a[2]=e.slice(20,30),a[3]=e.slice(30,36),a},engKeyBoardList(){let e=[1,2,3,4,5,6,7,8,9,0,"Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],a=[];return this.random&&(e=uni.$u.randomArray(e)),a[0]=e.slice(0,10),a[1]=e.slice(10,20),a[2]=e.slice(20,30),a[3]=e.slice(30,36),a}},emits:["change","backspace"],methods:{carInputClick(e,a){let o="";o=this.abc?this.engKeyBoardList[e][a]:this.areaList[e][a],!this.abc&&this.autoChange&&uni.$u.sleep(200).then((()=>this.abc=!0)),this.$emit("change",o)},changeCarInputMode(){this.abc=!this.abc},backspaceClick(){this.$emit("backspace"),clearInterval(this.timer),this.timer=null,this.timer=setInterval((()=>{this.$emit("backspace")}),250)},clearTimer(){clearInterval(this.timer),this.timer=null}}},[["render",function(l,h,f,v,C,g){const $=p,w=_,B=k(e("u-icon"),y);return a(),o(w,{class:"u-keyboard",onTouchmove:d(l.noop,["stop","prevent"])},{default:t((()=>[(a(!0),r(s,null,n(C.abc?g.engKeyBoardList:g.areaList,((e,l)=>(a(),o(w,{key:l,class:m(["u-keyboard__button",[l+1===4&&"u-keyboard__button--center"]]),index:l},{default:t((()=>[3===l?(a(),o(w,{key:0,class:"u-keyboard__button__inner-wrapper"},{default:t((()=>[i(w,{class:"u-keyboard__button__inner-wrapper__left","hover-class":"u-hover-class","hover-stay-time":200,onClick:g.changeCarInputMode},{default:t((()=>[i($,{class:m(["u-keyboard__button__inner-wrapper__left__lang",[!C.abc&&"u-keyboard__button__inner-wrapper__left__lang--active"]])},{default:t((()=>[u("中")])),_:1},8,["class"]),i($,{class:"u-keyboard__button__inner-wrapper__left__line"},{default:t((()=>[u("/")])),_:1}),i($,{class:m(["u-keyboard__button__inner-wrapper__left__lang",[C.abc&&"u-keyboard__button__inner-wrapper__left__lang--active"]])},{default:t((()=>[u("英")])),_:1},8,["class"])])),_:1},8,["onClick"])])),_:1})):b("v-if",!0),(a(!0),r(s,null,n(e,((e,r)=>(a(),o(w,{class:"u-keyboard__button__inner-wrapper",key:r},{default:t((()=>[i(w,{class:"u-keyboard__button__inner-wrapper__inner","hover-stay-time":200,onClick:e=>g.carInputClick(l,r),"hover-class":"u-hover-class"},{default:t((()=>[i($,{class:"u-keyboard__button__inner-wrapper__inner__text"},{default:t((()=>[u(c(e),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),3===l?(a(),o(w,{key:1,onTouchstart:g.backspaceClick,onTouchend:g.clearTimer,class:"u-keyboard__button__inner-wrapper"},{default:t((()=>[i(w,{class:"u-keyboard__button__inner-wrapper__right","hover-class":"u-hover-class","hover-stay-time":200},{default:t((()=>[i(B,{size:"28",name:"backspace",color:"#303133"})])),_:1})])),_:1},8,["onTouchstart","onTouchend"])):b("v-if",!0)])),_:2},1032,["index","class"])))),128))])),_:1},8,["onTouchmove"])}],["__scopeId","data-v-b56e628c"]]);const B=C({name:"u-keyboard",data:()=>({}),mixins:[f,v,{props:{mode:{type:String,default:()=>uni.$u.props.keyboard.mode},dotDisabled:{type:Boolean,default:()=>uni.$u.props.keyboard.dotDisabled},tooltip:{type:Boolean,default:()=>uni.$u.props.keyboard.tooltip},showTips:{type:Boolean,default:()=>uni.$u.props.keyboard.showTips},tips:{type:String,default:()=>uni.$u.props.keyboard.tips},showCancel:{type:Boolean,default:()=>uni.$u.props.keyboard.showCancel},showConfirm:{type:Boolean,default:()=>uni.$u.props.keyboard.showConfirm},random:{type:Boolean,default:()=>uni.$u.props.keyboard.random},safeAreaInsetBottom:{type:Boolean,default:()=>uni.$u.props.keyboard.safeAreaInsetBottom},closeOnClickOverlay:{type:Boolean,default:()=>uni.$u.props.keyboard.closeOnClickOverlay},show:{type:Boolean,default:()=>uni.$u.props.keyboard.show},overlay:{type:Boolean,default:()=>uni.$u.props.keyboard.overlay},zIndex:{type:[String,Number],default:()=>uni.$u.props.keyboard.zIndex},cancelText:{type:String,default:()=>uni.$u.props.keyboard.cancelText},confirmText:{type:String,default:()=>uni.$u.props.keyboard.confirmText},autoChange:{type:Boolean,default:()=>uni.$u.props.keyboard.autoChange}}}],emits:["change","close","confirm","cancel","backspace"],methods:{change(e){this.$emit("change",e)},popupClose(){this.$emit("close")},onConfirm(){this.$emit("confirm")},onCancel(){this.$emit("cancel")},backspace(){this.$emit("backspace")}}},[["render",function(r,s,n,l,d,m){const y=p,f=_,v=k(e("u-number-keyboard"),$),C=k(e("u-car-keyboard"),w),B=k(e("u-popup"),g);return a(),o(B,{overlay:r.overlay,closeOnClickOverlay:r.closeOnClickOverlay,mode:"bottom",popup:!1,show:r.show,safeAreaInsetBottom:r.safeAreaInsetBottom,onClose:m.popupClose,zIndex:r.zIndex,customStyle:{backgroundColor:"rgb(214, 218, 220)"}},{default:t((()=>[i(f,{class:"u-keyboard"},{default:t((()=>[h(r.$slots,"default",{},void 0,!0),r.tooltip?(a(),o(f,{key:0,class:"u-keyboard__tooltip"},{default:t((()=>[i(f,{"hover-class":"u-hover-class","hover-stay-time":100},{default:t((()=>[r.showCancel?(a(),o(y,{key:0,class:"u-keyboard__tooltip__item u-keyboard__tooltip__cancel",onClick:m.onCancel},{default:t((()=>[u(c(r.showCancel&&r.cancelText),1)])),_:1},8,["onClick"])):b("v-if",!0)])),_:1}),i(f,null,{default:t((()=>[r.showTips?(a(),o(y,{key:0,class:"u-keyboard__tooltip__item u-keyboard__tooltip__tips"},{default:t((()=>[u(c(r.tips?r.tips:"number"==r.mode?"数字键盘":"card"==r.mode?"身份证键盘":"车牌号键盘"),1)])),_:1})):b("v-if",!0)])),_:1}),i(f,{"hover-class":"u-hover-class","hover-stay-time":100},{default:t((()=>[r.showConfirm?(a(),o(y,{key:0,onClick:m.onConfirm,class:"u-keyboard__tooltip__item u-keyboard__tooltip__submit","hover-class":"u-hover-class"},{default:t((()=>[u(c(r.showConfirm&&r.confirmText),1)])),_:1},8,["onClick"])):b("v-if",!0)])),_:1})])),_:1})):b("v-if",!0),"number"==r.mode||"card"==r.mode?(a(),o(v,{key:1,random:r.random,onBackspace:m.backspace,onChange:m.change,mode:r.mode,dotDisabled:r.dotDisabled},null,8,["random","onBackspace","onChange","mode","dotDisabled"])):(a(),o(C,{key:2,random:r.random,autoChange:r.autoChange,onBackspace:m.backspace,onChange:m.change},null,8,["random","autoChange","onBackspace","onChange"]))])),_:3})])),_:3},8,["overlay","closeOnClickOverlay","show","safeAreaInsetBottom","onClose","zIndex","customStyle"])}],["__scopeId","data-v-9a357e71"]]);export{B as _};
