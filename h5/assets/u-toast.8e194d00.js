import{_ as t}from"./u-loading-icon.9756d199.js";import{m as o,f as e,d as i,o as n,c as s,w as a,a as r,p as m,n as l,l as p,j as c,t as u,k as g,i as f}from"./index-54bebc70.js";import{r as y}from"./uni-app.es.de3a25fd.js";import{_ as h}from"./u-icon.2688b39a.js";import{_ as d}from"./u-gap.5c61c574.js";import{_ as C}from"./u-overlay.f196ab83.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";const w=_({name:"u-toast",mixins:[o,e],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!1,loading:!1},tmpConfig:{}}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?uni.$u.type2icon(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},loadingIconColor(){let t="rgb(255, 255, 255)";return["error","warning","success","primary"].includes(this.tmpConfig.type)&&(t=uni.$u.hexToRgb(uni.$u.color[this.tmpConfig.type])),t},contentStyle(){const t=uni.$u.sys().windowHeight,o={};let e=0;return"top"===this.tmpConfig.position?e=.25*-t:"bottom"===this.tmpConfig.position&&(e=.25*t),o.transform=`translateY(${e}px)`,o}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=o=>this.show({type:t,message:o})}))},methods:{show(t){this.tmpConfig=uni.$u.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},beforeUnmount(){this.clearTimer()}},[["render",function(o,e,_,w,x,S){const b=y(i("u-loading-icon"),t),j=y(i("u-icon"),h),v=y(i("u-gap"),d),T=g,$=f,k=y(i("u-overlay"),C);return n(),s($,{class:"u-toast"},{default:a((()=>[r(k,{show:x.isShow,"custom-style":S.overlayStyle},{default:a((()=>[r($,{class:m(["u-toast__content",["u-type-"+x.tmpConfig.type,"loading"===x.tmpConfig.type||x.tmpConfig.loading?"u-toast__content--loading":""]]),style:l([S.contentStyle])},{default:a((()=>["loading"===x.tmpConfig.type?(n(),s(b,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==x.tmpConfig.type&&S.iconName?(n(),s(j,{key:1,name:S.iconName,size:"17",color:x.tmpConfig.type,customStyle:S.iconStyle},null,8,["name","color","customStyle"])):p("",!0),"loading"===x.tmpConfig.type||x.tmpConfig.loading?(n(),s(v,{key:2,height:"12",bgColor:"transparent"})):p("",!0),r(T,{class:m(["u-toast__content__text",["u-toast__content__text--"+x.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:a((()=>[c(u(x.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-545d6ae1"]]);export{w as _};
