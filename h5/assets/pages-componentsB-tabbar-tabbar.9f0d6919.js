import{d as e,o as t,c as a,w as o,a as l,b as i,F as n,k as u,n as s,g as c,t as r,i as d,h as p,l as h,p as _,f as m,e as b}from"./index-4f0c5e1d.js";import{_ as f}from"./u-icon.e9ca9d71.js";import{r as v}from"./uni-app.es.fcad82c0.js";import{_ as g}from"./u-badge.17911d23.js";import{m as x,a as y}from"./mixin.d0c91ebc.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as k}from"./u-safe-bottom.0167a4f2.js";import{_ as $}from"./u-gap.7c7ec09c.js";const I=C({name:"u-tabbar-item",mixins:[x,y,{props:{name:{type:[String,Number,null],default:()=>uni.$u.props.tabbarItem.name},icon:{icon:String,default:()=>uni.$u.props.tabbarItem.icon},badge:{type:[String,Number,null],default:()=>uni.$u.props.tabbarItem.badge},dot:{type:Boolean,default:()=>uni.$u.props.tabbarItem.dot},text:{type:String,default:()=>uni.$u.props.tabbarItem.text},badgeStyle:{type:[Object,String],default:()=>uni.$u.props.tabbarItem.badgeStyle}}}],data:()=>({isActive:!1,parentData:{value:null,activeColor:"",inactiveColor:""}}),options:{virtualHost:!0},created(){this.init()},emits:["click","change"],methods:{init(){this.updateParentData(),this.parent||uni.$u.error("u-tabbar-item必须搭配u-tabbar组件使用");const e=this.parent.children.indexOf(this);this.isActive=(this.name||e)===this.parentData.value},updateParentData(){this.getParentData("u-tabbar")},updateFromParent(){this.init()},clickHandler(){this.$nextTick((()=>{const e=this.parent.children.indexOf(this),t=this.name||e;t!==this.parent.value&&this.parent.$emit("change",t),this.$emit("click",t)}))}}},[["render",function(h,_,m,b,x,y){const C=v(e("u-icon"),f),k=v(e("u-badge"),g),$=d,I=p;return t(),a($,{class:"u-tabbar-item",style:s([h.$u.addStyle(h.customStyle)]),onClick:y.clickHandler},{default:o((()=>[l($,{class:"u-tabbar-item__icon"},{default:o((()=>[h.icon?(t(),a(C,{key:0,name:h.icon,color:x.isActive?x.parentData.activeColor:x.parentData.inactiveColor,size:20},null,8,["name","color"])):(t(),i(n,{key:1},[x.isActive?u(h.$slots,"active-icon",{key:0},void 0,!0):u(h.$slots,"inactive-icon",{key:1},void 0,!0)],64)),l(k,{absolute:"",offset:[0,h.dot?"34rpx":h.badge>9?"14rpx":"20rpx"],customStyle:h.badgeStyle,isDot:h.dot,value:h.badge||(h.dot?1:null),show:h.dot||h.badge>0},null,8,["offset","customStyle","isDot","value","show"])])),_:3}),u(h.$slots,"text",{},(()=>[l(I,{class:"u-tabbar-item__text",style:s({color:x.isActive?x.parentData.activeColor:x.parentData.inactiveColor})},{default:o((()=>[c(r(h.text),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style","onClick"])}],["__scopeId","data-v-3009ce40"]]);const S=C({name:"u-tabbar",mixins:[x,y,{props:{value:{type:[String,Number,null],default:()=>uni.$u.props.tabbar.value},safeAreaInsetBottom:{type:Boolean,default:()=>uni.$u.props.tabbar.safeAreaInsetBottom},border:{type:Boolean,default:()=>uni.$u.props.tabbar.border},zIndex:{type:[String,Number],default:()=>uni.$u.props.tabbar.zIndex},activeColor:{type:String,default:()=>uni.$u.props.tabbar.activeColor},inactiveColor:{type:String,default:()=>uni.$u.props.tabbar.inactiveColor},fixed:{type:Boolean,default:()=>uni.$u.props.tabbar.fixed},placeholder:{type:Boolean,default:()=>uni.$u.props.tabbar.placeholder}}}],data:()=>({placeholderHeight:0}),computed:{tabbarStyle(){const e={zIndex:this.zIndex};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},updateChild(){return[this.value,this.activeColor,this.inactiveColor]},updatePlaceholder(){return[this.fixed,this.placeholder]}},watch:{updateChild(){this.updateChildren()},updatePlaceholder(){this.setPlaceholderHeight()}},created(){this.children=[]},mounted(){this.setPlaceholderHeight()},methods:{updateChildren(){this.children.length&&this.children.map((e=>e.updateFromParent()))},async setPlaceholderHeight(){this.fixed&&this.placeholder&&(await uni.$u.sleep(20),this.$uGetRect(".u-tabbar__content").then((({height:e=50})=>{this.placeholderHeight=e})))}}},[["render",function(i,n,c,r,p,b){const f=d,g=v(e("u-safe-bottom"),k);return t(),a(f,{class:"u-tabbar"},{default:o((()=>[l(f,{class:h(["u-tabbar__content",[i.border&&"u-border-top",i.fixed&&"u-tabbar--fixed"]]),ref:"u-tabbar__content",onTouchmove:_(i.noop,["stop","prevent"]),style:s([b.tabbarStyle])},{default:o((()=>[l(f,{class:"u-tabbar__content__item-wrapper"},{default:o((()=>[u(i.$slots,"default",{},void 0,!0)])),_:3}),i.safeAreaInsetBottom?(t(),a(g,{key:0})):m("v-if",!0)])),_:3},8,["onTouchmove","class","style"]),i.placeholder?(t(),a(f,{key:0,class:"u-tabbar__placeholder",style:s({height:p.placeholderHeight+"px"})},null,8,["style"])):m("v-if",!0)])),_:3})}],["__scopeId","data-v-ed985f11"]]);const A=C({data:()=>({value1:0,value2:1,value3:"play-right",value4:0,value5:0,value6:0,value7:3}),onLoad(){},methods:{change5(e){if(1===e)return uni.$u.toast("请您先登录");this.value5=e},change1(e){this.value1=e,console.log("change1",e)},click1(e){console.log("click1",e)}}},[["render",function(i,n,u,s,r,h){const _=p,m=v(e("u-tabbar-item"),I),f=v(e("u-tabbar"),S),g=d,x=b,y=v(e("u-gap"),$);return t(),a(g,{class:"u-page"},{default:o((()=>[l(g,{class:"u-page__item"},{default:o((()=>[l(_,{class:"u-page__item__title"},{default:o((()=>[c("基础功能")])),_:1}),l(f,{value:r.value1,onChange:h.change1,fixed:!1,placeholder:!1,safeAreaInsetBottom:!1},{default:o((()=>[l(m,{text:"首页",icon:"home",onClick:h.click1},null,8,["onClick"]),l(m,{text:"放映厅",icon:"photo",onClick:h.click1},null,8,["onClick"]),l(m,{text:"直播",icon:"play-right",onClick:h.click1},null,8,["onClick"]),l(m,{text:"我的",icon:"account",onClick:h.click1},null,8,["onClick"])])),_:1},8,["value","onChange"])])),_:1}),l(g,{class:"u-page__item"},{default:o((()=>[l(_,{class:"u-page__item__title"},{default:o((()=>[c("显示徽标")])),_:1}),l(f,{value:r.value2,placeholder:!1,onChange:n[0]||(n[0]=e=>r.value2=e),fixed:!1,safeAreaInsetBottom:!1},{default:o((()=>[l(m,{text:"首页",icon:"home",dot:""}),l(m,{text:"放映厅",icon:"photo",badge:"3"}),l(m,{text:"直播",icon:"play-right"}),l(m,{text:"我的",icon:"account"})])),_:1},8,["value"])])),_:1}),l(g,{class:"u-page__item"},{default:o((()=>[l(_,{class:"u-page__item__title"},{default:o((()=>[c("匹配标签的名称")])),_:1}),l(f,{placeholder:!1,value:r.value3,onChange:n[1]||(n[1]=e=>r.value3=e),fixed:!1,safeAreaInsetBottom:!1},{default:o((()=>[l(m,{text:"首页",icon:"home",name:"home"}),l(m,{text:"放映厅",icon:"photo",name:"photo"}),l(m,{text:"直播",icon:"play-right",name:"play-right"}),l(m,{text:"我的",name:"account",icon:"account"})])),_:1},8,["value"])])),_:1}),l(g,{class:"u-page__item"},{default:o((()=>[l(_,{class:"u-page__item__title"},{default:o((()=>[c("自定义图标/颜色")])),_:1}),l(f,{value:r.value4,onChange:n[2]||(n[2]=e=>r.value4=e),fixed:!1,placeholder:!1,activeColor:"#d81e06",safeAreaInsetBottom:!1},{default:o((()=>[l(m,{text:"首页"},{"active-icon":o((()=>[l(x,{class:"u-page__item__slot-icon",src:"https://cdn.uviewui.com/uview/common/bell-selected.png"})])),"inactive-icon":o((()=>[l(x,{class:"u-page__item__slot-icon",src:"https://cdn.uviewui.com/uview/common/bell.png"})])),_:1}),l(m,{text:"放映厅",icon:"photo"}),l(m,{text:"直播",icon:"play-right"}),l(m,{text:"我的",icon:"account"})])),_:1},8,["value"])])),_:1}),l(g,{class:"u-page__item"},{default:o((()=>[l(_,{class:"u-page__item__title"},{default:o((()=>[c("拦截切换事件(点击第二个标签)")])),_:1}),l(f,{value:r.value5,fixed:!1,onChange:h.change5,safeAreaInsetBottom:!1,placeholder:!1},{default:o((()=>[l(m,{text:"首页",icon:"home"}),l(m,{text:"放映厅",icon:"photo"}),l(m,{text:"直播",icon:"play-right"}),l(m,{text:"我的",icon:"account"})])),_:1},8,["value","onChange"])])),_:1}),l(g,{class:"u-page__item"},{default:o((()=>[l(_,{class:"u-page__item__title"},{default:o((()=>[c("去除上边框")])),_:1}),l(f,{value:r.value7,placeholder:!1,border:!1,onChange:n[3]||(n[3]=e=>r.value7=e),fixed:!1,safeAreaInsetBottom:!1},{default:o((()=>[l(m,{text:"首页",icon:"home"}),l(m,{text:"放映厅",icon:"photo"}),l(m,{text:"直播",icon:"play-right"}),l(m,{text:"我的",icon:"account"})])),_:1},8,["value"])])),_:1}),l(g,{class:"u-page__item"},{default:o((()=>[l(_,{class:"u-page__item__title"},{default:o((()=>[c("固定在底部(固定在屏幕最下方)")])),_:1}),l(y,{height:"150"}),l(f,{value:r.value6,onChange:n[4]||(n[4]=e=>r.value6=e),fixed:!0,placeholder:!0,safeAreaInsetBottom:!0},{default:o((()=>[l(m,{text:"首页",icon:"home"}),l(m,{text:"放映厅",icon:"photo"}),l(m,{text:"直播",icon:"play-right"}),l(m,{text:"我的",icon:"account"})])),_:1},8,["value"])])),_:1})])),_:1})}],["__scopeId","data-v-4dd3d7a9"]]);export{A as default};
