import{_ as e}from"./u-icon.e9ca9d71.js";import{d as t,o as i,c as a,w as o,a as l,l as s,p as r,n,k as c,g as h,t as u,i as p,h as d}from"./index-4f0c5e1d.js";import{r as b}from"./uni-app.es.fcad82c0.js";import{m as k,a as m}from"./mixin.d0c91ebc.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";const f=C({name:"u-checkbox",mixins:[k,m,{props:{name:{type:[String,Number,Boolean],default:()=>uni.$u.props.checkbox.name},shape:{type:String,default:()=>uni.$u.props.checkbox.shape},size:{type:[String,Number],default:()=>uni.$u.props.checkbox.size},checked:{type:Boolean,default:()=>uni.$u.props.checkbox.checked},disabled:{type:[String,Boolean],default:()=>uni.$u.props.checkbox.disabled},activeColor:{type:String,default:()=>uni.$u.props.checkbox.activeColor},inactiveColor:{type:String,default:()=>uni.$u.props.checkbox.inactiveColor},iconSize:{type:[String,Number],default:()=>uni.$u.props.checkbox.iconSize},iconColor:{type:String,default:()=>uni.$u.props.checkbox.iconColor},label:{type:[String,Number],default:()=>uni.$u.props.checkbox.label},labelSize:{type:[String,Number],default:()=>uni.$u.props.checkbox.labelSize},labelColor:{type:String,default:()=>uni.$u.props.checkbox.labelColor},labelDisabled:{type:[String,Boolean],default:()=>uni.$u.props.checkbox.labelDisabled}}}],data:()=>({isChecked:!1,parentData:{iconSize:12,labelDisabled:null,disabled:null,shape:"square",activeColor:null,inactiveColor:null,size:18,modelValue:null,iconColor:null,placement:"row",borderBottom:!1,iconPlacement:"left"}}),computed:{elDisabled(){return""!==this.disabled?this.disabled:null!==this.parentData.disabled&&this.parentData.disabled},elLabelDisabled(){return""!==this.labelDisabled?this.labelDisabled:null!==this.parentData.labelDisabled&&this.parentData.labelDisabled},elSize(){return this.size?this.size:this.parentData.size?this.parentData.size:21},elIconSize(){return this.iconSize?this.iconSize:this.parentData.iconSize?this.parentData.iconSize:12},elActiveColor(){return this.activeColor?this.activeColor:this.parentData.activeColor?this.parentData.activeColor:"#2979ff"},elInactiveColor(){return this.inactiveColor?this.inactiveColor:this.parentData.inactiveColor?this.parentData.inactiveColor:"#c8c9cc"},elLabelColor(){return this.labelColor?this.labelColor:this.parentData.labelColor?this.parentData.labelColor:"#606266"},elShape(){return this.shape?this.shape:this.parentData.shape?this.parentData.shape:"circle"},elLabelSize(){return uni.$u.addUnit(this.labelSize?this.labelSize:this.parentData.labelSize?this.parentData.labelSize:"15")},elIconColor(){const e=this.iconColor?this.iconColor:this.parentData.iconColor?this.parentData.iconColor:"#ffffff";return this.elDisabled?this.isChecked?this.elInactiveColor:"transparent":this.isChecked?e:"transparent"},iconClasses(){let e=[];return e.push("u-checkbox__icon-wrap--"+this.elShape),this.elDisabled&&e.push("u-checkbox__icon-wrap--disabled"),this.isChecked&&this.elDisabled&&e.push("u-checkbox__icon-wrap--disabled--checked"),e},iconWrapStyle(){const e={};return e.backgroundColor=this.isChecked&&!this.elDisabled?this.elActiveColor:"#ffffff",e.borderColor=this.isChecked&&!this.elDisabled?this.elActiveColor:this.elInactiveColor,e.width=uni.$u.addUnit(this.elSize),e.height=uni.$u.addUnit(this.elSize),"right"===this.parentData.iconPlacement&&(e.marginRight=0),e},checkboxStyle(){const e={};return this.parentData.borderBottom&&"row"===this.parentData.placement&&uni.$u.error("检测到您将borderBottom设置为true，需要同时将u-checkbox-group的placement设置为column才有效"),this.parentData.borderBottom&&"column"===this.parentData.placement&&(e.paddingBottom="8px"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},mounted(){this.init()},emits:["change"],methods:{init(){this.updateParentData(),this.parent||uni.$u.error("u-checkbox必须搭配u-checkbox-group组件使用");const e=this.parentData.modelValue;this.checked?this.isChecked=!0:uni.$u.test.array(e)&&(this.isChecked=e.some((e=>e===this.name)))},updateParentData(){this.getParentData("u-checkbox-group")},wrapperClickHandler(e){"right"===this.parentData.iconPlacement&&this.iconClickHandler(e)},iconClickHandler(e){this.preventEvent(e),this.elDisabled||this.setRadioCheckedStatus()},labelClickHandler(e){this.preventEvent(e),this.elLabelDisabled||this.elDisabled||this.setRadioCheckedStatus()},emitEvent(){this.$emit("change",this.isChecked),this.$nextTick((()=>{uni.$u.formValidate(this,"change")}))},setRadioCheckedStatus(){this.isChecked=!this.isChecked,this.emitEvent(),"function"==typeof this.parent.unCheckedOther&&this.parent.unCheckedOther(this)}},watch:{checked(){this.isChecked=this.checked}}},[["render",function(k,m,C,f,S,D){const x=b(t("u-icon"),e),g=p,y=d;return i(),a(g,{class:s(["u-checkbox",[`u-checkbox-label--${S.parentData.iconPlacement}`,S.parentData.borderBottom&&"column"===S.parentData.placement&&"u-border-bottom"]]),style:n([D.checkboxStyle]),onClick:r(D.wrapperClickHandler,["stop"])},{default:o((()=>[l(g,{class:s(["u-checkbox__icon-wrap",D.iconClasses]),onClick:r(D.iconClickHandler,["stop"]),style:n([D.iconWrapStyle])},{default:o((()=>[c(k.$slots,"icon",{},(()=>[l(x,{class:"u-checkbox__icon-wrap__icon",name:"checkbox-mark",size:D.elIconSize,color:D.elIconColor},null,8,["size","color"])]),!0)])),_:3},8,["onClick","class","style"]),l(y,{onClick:r(D.labelClickHandler,["stop"]),style:n({color:D.elDisabled?D.elInactiveColor:D.elLabelColor,fontSize:D.elLabelSize,lineHeight:D.elLabelSize})},{default:o((()=>[h(u(k.label),1)])),_:1},8,["onClick","style"])])),_:3},8,["style","onClick","class"])}],["__scopeId","data-v-815f4e84"]]);const S=C({name:"u-checkbox-group",mixins:[k,m,{props:{name:{type:String,default:()=>uni.$u.props.checkboxGroup.name},modelValue:{type:Array,default:()=>uni.$u.props.checkboxGroup.value},shape:{type:String,default:()=>uni.$u.props.checkboxGroup.shape},disabled:{type:Boolean,default:()=>uni.$u.props.checkboxGroup.disabled},activeColor:{type:String,default:()=>uni.$u.props.checkboxGroup.activeColor},inactiveColor:{type:String,default:()=>uni.$u.props.checkboxGroup.inactiveColor},size:{type:[String,Number],default:()=>uni.$u.props.checkboxGroup.size},placement:{type:String,default:()=>uni.$u.props.checkboxGroup.placement},labelSize:{type:[String,Number],default:()=>uni.$u.props.checkboxGroup.labelSize},labelColor:{type:[String],default:()=>uni.$u.props.checkboxGroup.labelColor},labelDisabled:{type:Boolean,default:()=>uni.$u.props.checkboxGroup.labelDisabled},iconColor:{type:String,default:()=>uni.$u.props.checkboxGroup.iconColor},iconSize:{type:[String,Number],default:()=>uni.$u.props.checkboxGroup.iconSize},iconPlacement:{type:String,default:()=>uni.$u.props.checkboxGroup.iconPlacement},borderBottom:{type:Boolean,default:()=>uni.$u.props.checkboxGroup.borderBottom}}}],computed:{parentData(){return[this.modelValue,this.disabled,this.inactiveColor,this.activeColor,this.size,this.labelDisabled,this.shape,this.iconSize,this.borderBottom,this.placement]},bemClass(){return this.bem("checkbox-group",["placement"])}},watch:{parentData:{handler(){this.children.length&&this.children.map((e=>{"function"==typeof e.init&&e.init()}))},deep:!0}},data:()=>({}),created(){this.children=[]},emits:["update:modelValue","change"],methods:{unCheckedOther(e){const t=[];this.children.map((e=>{e.isChecked&&t.push(e.name)})),this.$emit("change",t),this.$emit("update:modelValue",t)}}},[["render",function(e,t,l,r,n,h){const u=p;return i(),a(u,{class:s(["u-checkbox-group",h.bemClass])},{default:o((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}],["__scopeId","data-v-aed3cf41"]]);export{f as _,S as a};
