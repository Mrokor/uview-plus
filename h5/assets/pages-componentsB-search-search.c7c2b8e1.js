import{d as e,o as l,c as a,w as o,a as t,n as u,k as s,g as c,t as n,f as d,l as i,p as r,h as _,i as m,I as p}from"./index-4f0c5e1d.js";import{_ as h}from"./u-icon.e9ca9d71.js";import{r as f}from"./uni-app.es.fcad82c0.js";import{m as g,a as b}from"./mixin.d0c91ebc.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";const y=k({name:"u-search",mixins:[g,b,{props:{shape:{type:String,default:()=>uni.$u.props.search.shape},bgColor:{type:String,default:()=>uni.$u.props.search.bgColor},placeholder:{type:String,default:()=>uni.$u.props.search.placeholder},clearabled:{type:Boolean,default:()=>uni.$u.props.search.clearabled},focus:{type:Boolean,default:()=>uni.$u.props.search.focus},showAction:{type:Boolean,default:()=>uni.$u.props.search.showAction},actionStyle:{type:Object,default:()=>uni.$u.props.search.actionStyle},actionText:{type:String,default:()=>uni.$u.props.search.actionText},inputAlign:{type:String,default:()=>uni.$u.props.search.inputAlign},inputStyle:{type:Object,default:()=>uni.$u.props.search.inputStyle},disabled:{type:Boolean,default:()=>uni.$u.props.search.disabled},borderColor:{type:String,default:()=>uni.$u.props.search.borderColor},searchIconColor:{type:String,default:()=>uni.$u.props.search.searchIconColor},color:{type:String,default:()=>uni.$u.props.search.color},placeholderColor:{type:String,default:()=>uni.$u.props.search.placeholderColor},searchIcon:{type:String,default:()=>uni.$u.props.search.searchIcon},searchIconSize:{type:[Number,String],default:()=>uni.$u.props.search.searchIconSize},margin:{type:String,default:()=>uni.$u.props.search.margin},animation:{type:Boolean,default:()=>uni.$u.props.search.animation},modelValue:{type:String,default:()=>uni.$u.props.search.value},value:{type:String,default:()=>uni.$u.props.search.value},maxlength:{type:[String,Number],default:()=>uni.$u.props.search.maxlength},height:{type:[String,Number],default:()=>uni.$u.props.search.height},label:{type:[String,Number,null],default:()=>uni.$u.props.search.label}}}],data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword(e){this.$emit("update:modelValue",e),this.$emit("change",e)},modelValue:{immediate:!0,handler(e){this.keyword=e}}},computed:{showActionBtn(){return!this.animation&&this.showAction}},emits:["clear","search","custom","focus","blur","click","clickIcon","update:modelValue","change"],methods:{inputChange(e){this.keyword=e.detail.value},clear(){this.keyword="",this.$nextTick((()=>{this.$emit("clear")}))},search(e){this.$emit("search",e.detail.value);try{uni.hideKeyboard()}catch(l){}},custom(){this.$emit("custom",this.keyword);try{uni.hideKeyboard()}catch(e){}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout((()=>{this.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")},clickIcon(e){this.$emit("clickIcon",this.keyword);try{uni.hideKeyboard()}catch(l){}}}},[["render",function(g,b,k,y,v,V){const w=_,$=f(e("u-icon"),h),C=m,S=p;return l(),a(C,{class:"u-search",onClick:V.clickHandler,style:u([{margin:g.margin},g.$u.addStyle(g.customStyle)])},{default:o((()=>[t(C,{class:"u-search__content",style:u({backgroundColor:g.bgColor,borderRadius:"round"==g.shape?"100px":"4px",borderColor:g.borderColor})},{default:o((()=>[g.$slots.label||null!==g.label?s(g.$slots,"label",{key:0},(()=>[t(w,{class:"u-search__content__label"},{default:o((()=>[c(n(g.label),1)])),_:1})]),!0):d("v-if",!0),t(C,{class:"u-search__content__icon"},{default:o((()=>[t($,{onClick:V.clickIcon,size:g.searchIconSize,name:g.searchIcon,color:g.searchIconColor?g.searchIconColor:g.color},null,8,["onClick","size","name","color"])])),_:1}),t(S,{"confirm-type":"search",onBlur:V.blur,value:v.keyword,onConfirm:V.search,onInput:V.inputChange,disabled:g.disabled,onFocus:V.getFocus,focus:g.focus,maxlength:g.maxlength,"placeholder-class":"u-search__content__input--placeholder",placeholder:g.placeholder,"placeholder-style":`color: ${g.placeholderColor}`,class:"u-search__content__input",type:"text",style:u([{textAlign:g.inputAlign,color:g.color,backgroundColor:g.bgColor,height:g.$u.addUnit(g.height)},g.inputStyle])},null,8,["onBlur","value","onConfirm","onInput","disabled","onFocus","focus","maxlength","placeholder","placeholder-style","style"]),v.keyword&&g.clearabled&&v.focused?(l(),a(C,{key:1,class:"u-search__content__icon u-search__content__close",onClick:V.clear},{default:o((()=>[t($,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])),_:1},8,["onClick"])):d("v-if",!0)])),_:3},8,["style"]),t(w,{style:u([g.actionStyle]),class:i(["u-search__action",[(V.showActionBtn||v.show)&&"u-search__action--active"]]),onClick:r(V.custom,["stop","prevent"])},{default:o((()=>[c(n(g.actionText),1)])),_:1},8,["style","class","onClick"])])),_:3},8,["onClick","style"])}],["__scopeId","data-v-fe3adfe9"]]);const v=k({data:()=>({value1:"",value2:"天山雪莲",value3:"",value4:"",value5:"",value6:"",value7:"",value8:"",value9:"",value10:"",value11:"",value12:"",value13:"",value14:"",value15:""}),watch:{value1(e,l){}},methods:{change(e){console.log(e)},clickIcon(){uni.$u.toast("点击了左侧图标")}}},[["render",function(u,s,d,i,r,p){const h=_,g=f(e("u-search"),y),b=m;return l(),a(b,{class:"u-page"},{default:o((()=>[t(b,{class:"u-demo-block"},{default:o((()=>[t(h,{class:"u-demo-block__title"},{default:o((()=>[c("基础功能")])),_:1}),t(b,{class:"u-demo-block__content"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value1,"onUpdate:modelValue":s[0]||(s[0]=e=>r.value1=e),"show-action":!1,onChange:p.change},null,8,["modelValue","onChange"])])),_:1})])),_:1})])),_:1}),t(b,{class:"u-demo-block"},{default:o((()=>[t(h,{class:"u-demo-block__title"},{default:o((()=>[c("设置初始值")])),_:1}),t(b,{class:"u-demo-block__content"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value2,"onUpdate:modelValue":s[1]||(s[1]=e=>r.value2=e),"show-action":!1},null,8,["modelValue"]),c(" "+n(r.value2),1)])),_:1})])),_:1})])),_:1}),t(b,{class:"u-demo-block"},{default:o((()=>[t(h,{class:"u-demo-block__title"},{default:o((()=>[c("搜索框形状")])),_:1}),t(b,{class:"u-demo-block__content"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value3,"onUpdate:modelValue":s[2]||(s[2]=e=>r.value3=e),"show-action":!1,shape:"round"},null,8,["modelValue"])])),_:1})])),_:1}),t(b,{class:"u-demo-block__content m-t-10"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value4,"onUpdate:modelValue":s[3]||(s[3]=e=>r.value4=e),"show-action":!1,shape:"square"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),t(b,{class:"u-demo-block"},{default:o((()=>[t(h,{class:"u-demo-block__title"},{default:o((()=>[c("右侧控件")])),_:1}),t(b,{class:"u-demo-block__content"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value5,"onUpdate:modelValue":s[4]||(s[4]=e=>r.value5=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),t(b,{class:"u-demo-block"},{default:o((()=>[t(h,{class:"u-demo-block__title"},{default:o((()=>[c("禁用输入框")])),_:1}),t(b,{class:"u-demo-block__content"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{placeholder:"输入框被禁用,可以监听点击事件进行跳转",disabled:"","show-action":!1})])),_:1})])),_:1})])),_:1}),t(b,{class:"u-demo-block"},{default:o((()=>[t(h,{class:"u-demo-block__title"},{default:o((()=>[c("点击左侧图标")])),_:1}),t(b,{class:"u-demo-block__content"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value6,"onUpdate:modelValue":s[5]||(s[5]=e=>r.value6=e),"show-action":!1,onClickIcon:p.clickIcon},null,8,["modelValue","onClickIcon"])])),_:1})])),_:1})])),_:1}),t(b,{class:"u-demo-block"},{default:o((()=>[t(h,{class:"u-demo-block__title"},{default:o((()=>[c("搜索框内容水平对齐")])),_:1}),t(b,{class:"u-demo-block__content"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value7,"onUpdate:modelValue":s[6]||(s[6]=e=>r.value7=e),"show-action":!1,"input-align":"left"},null,8,["modelValue"])])),_:1})])),_:1}),t(b,{class:"u-demo-block__content m-t-10"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value8,"onUpdate:modelValue":s[7]||(s[7]=e=>r.value8=e),"show-action":!1,"input-align":"center"},null,8,["modelValue"])])),_:1})])),_:1}),t(b,{class:"u-demo-block__content m-t-10"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value9,"onUpdate:modelValue":s[8]||(s[8]=e=>r.value9=e),"show-action":!1,"input-align":"right"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),t(b,{class:"u-demo-block"},{default:o((()=>[t(h,{class:"u-demo-block__title"},{default:o((()=>[c("自定义")])),_:1}),t(b,{class:"u-demo-block__content"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value10,"onUpdate:modelValue":s[9]||(s[9]=e=>r.value10=e),"show-action":!1,borderColor:"rgb(230, 230, 230)",bgColor:"#fff"},null,8,["modelValue"])])),_:1})])),_:1}),t(b,{class:"u-demo-block__content m-t-10"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value11,"onUpdate:modelValue":s[10]||(s[10]=e=>r.value11=e),"show-action":!1,"search-icon-color":"#FF0000"},null,8,["modelValue"])])),_:1})])),_:1}),t(b,{class:"u-demo-block__content m-t-10"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value12,"onUpdate:modelValue":s[11]||(s[11]=e=>r.value12=e),"show-action":!1,"placeholder-color":"#FF0000"},null,8,["modelValue"])])),_:1})])),_:1}),t(b,{class:"u-demo-block__content m-t-10"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value13,"onUpdate:modelValue":s[12]||(s[12]=e=>r.value13=e),"show-action":!1,color:"#FF0000"},null,8,["modelValue"])])),_:1})])),_:1}),t(b,{class:"u-demo-block__content m-t-10"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value14,"onUpdate:modelValue":s[13]||(s[13]=e=>r.value14=e),label:"手机","show-action":!1},null,8,["modelValue"])])),_:1})])),_:1}),t(b,{class:"u-demo-block__content m-t-10"},{default:o((()=>[t(b,{class:"u-page__tag-item"},{default:o((()=>[t(g,{modelValue:r.value15,"onUpdate:modelValue":s[14]||(s[14]=e=>r.value15=e),"search-icon":"scan","show-action":!1},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-7afa7228"]]);export{v as default};
