import{o as e,c as t,w as s,a,n as l,k as o,g as r,t as n,f as c,i as u,h as i,d}from"./index-4f0c5e1d.js";import{m as g,a as p}from"./mixin.d0c91ebc.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as h}from"./uni-app.es.fcad82c0.js";const f=_({name:"u-line-progress",mixins:[g,p,{props:{activeColor:{type:String,default:()=>uni.$u.props.lineProgress.activeColor},inactiveColor:{type:String,default:()=>uni.$u.props.lineProgress.color},percentage:{type:[String,Number],default:()=>uni.$u.props.lineProgress.inactiveColor},showText:{type:Boolean,default:()=>uni.$u.props.lineProgress.showText},height:{type:[String,Number],default:()=>uni.$u.props.lineProgress.height}}}],data:()=>({lineWidth:0}),watch:{percentage(e){this.resizeProgressWidth()}},computed:{progressStyle(){let e={};return e.width=this.lineWidth,e.backgroundColor=this.activeColor,e.height=uni.$u.addUnit(this.height),e},innserPercentage(){return uni.$u.range(0,100,this.percentage)}},mounted(){this.init()},methods:{init(){uni.$u.sleep(20).then((()=>{this.resizeProgressWidth()}))},getProgressWidth(){return this.$uGetRect(".u-line-progress__background")},resizeProgressWidth(){this.getProgressWidth().then((e=>{const{width:t}=e;this.lineWidth=t*this.innserPercentage/100+"px"}))}}},[["render",function(d,g,p,_,h,f){const m=u,b=i;return e(),t(m,{class:"u-line-progress",style:l([d.$u.addStyle(d.customStyle)])},{default:s((()=>[a(m,{class:"u-line-progress__background",ref:"u-line-progress__background",style:l([{backgroundColor:d.inactiveColor,height:d.$u.addUnit(d.height)}])},null,8,["style"]),a(m,{class:"u-line-progress__line",style:l([f.progressStyle])},{default:s((()=>[o(d.$slots,"default",{},(()=>[d.showText&&d.percentage>=10?(e(),t(b,{key:0,class:"u-line-progress__text"},{default:s((()=>[r(n(f.innserPercentage+"%"),1)])),_:1})):c("v-if",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-f50781ad"]]);const m=_({data:()=>({androidNvue:!1,percentage1:30,percentage2:40,percentage3:50,percentage4:60,percentage5:70,percentage6:50}),onLoad(){uni.$u.sleep(2500).then((()=>{this.percentage1=120}))},methods:{computedWidth(e){this.percentage6="plus"===e?uni.$u.range(0,100,this.percentage6+10):uni.$u.range(0,100,this.percentage6-10)}}},[["render",function(l,o,g,p,_,m){const b=i,k=h(d("u-line-progress"),f),v=u;return e(),t(v,{class:"u-page"},{default:s((()=>[a(v,{class:"u-demo-block"},{default:s((()=>[a(b,{class:"u-demo-block__title"},{default:s((()=>[r("基础功能")])),_:1}),a(v,{class:"u-demo-block__content"},{default:s((()=>[a(k,{percentage:_.percentage1},null,8,["percentage"])])),_:1})])),_:1}),a(v,{class:"u-demo-block"},{default:s((()=>[a(b,{class:"u-demo-block__title"},{default:s((()=>[r("不显示百分比")])),_:1}),a(v,{class:"u-demo-block__content"},{default:s((()=>[a(k,{showText:!1,percentage:_.percentage2},null,8,["percentage"])])),_:1})])),_:1}),a(v,{class:"u-demo-block"},{default:s((()=>[a(b,{class:"u-demo-block__title"},{default:s((()=>[r("自定义高度")])),_:1}),a(v,{class:"u-demo-block__content"},{default:s((()=>[a(k,{height:"8",showText:!1,percentage:_.percentage3},null,8,["percentage"])])),_:1})])),_:1}),a(v,{class:"u-demo-block"},{default:s((()=>[a(b,{class:"u-demo-block__title"},{default:s((()=>[r("自定义颜色")])),_:1}),a(v,{class:"u-demo-block__content"},{default:s((()=>[a(k,{height:"8",showText:!1,percentage:_.percentage4,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},null,8,["percentage"])])),_:1})])),_:1}),_.androidNvue?c("v-if",!0):(e(),t(v,{key:0,class:"u-demo-block"},{default:s((()=>[a(b,{class:"u-demo-block__title"},{default:s((()=>[r("自定义样式(不支持安卓环境的nvue)")])),_:1}),a(v,{class:"u-demo-block__content"},{default:s((()=>[a(k,{height:"8",showText:!1,percentage:_.percentage5,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},{default:s((()=>[a(b,{class:"u-percentage-slot"},{default:s((()=>[r(n(_.percentage4)+"%",1)])),_:1})])),_:1},8,["percentage"])])),_:1})])),_:1})),a(v,{class:"u-demo-block"},{default:s((()=>[a(b,{class:"u-demo-block__title"},{default:s((()=>[r("手动加减")])),_:1}),a(v,{class:"u-demo-block__content"},{default:s((()=>[a(k,{height:"8",showText:!1,percentage:_.percentage6,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},null,8,["percentage"]),a(v,{class:"button-group"},{default:s((()=>[a(v,{class:"button-group__circle","hover-class":"u-hover-class",onClick:o[0]||(o[0]=e=>m.computedWidth("minus"))},{default:s((()=>[a(b,{class:"button-group__circle__text"},{default:s((()=>[r("减少")])),_:1})])),_:1}),a(v,{class:"button-group__circle","hover-class":"u-hover-class",onClick:o[1]||(o[1]=e=>m.computedWidth("plus"))},{default:s((()=>[a(b,{class:"button-group__circle__text"},{default:s((()=>[r("增加")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-739640f1"]]);export{m as default};
