import{l as t,m as l,f as i,n as o,q as s,v as e,x as r,o as a,c as n,w as c,a as d,h as u,s as _,u as m,i as h,H as p,j as g,b as f,r as b,F as w,k as y,d as x,y as W,t as S,e as v}from"./index-46938ef1.js";import{_ as C}from"./u-icon.7974d078.js";import{r as j}from"./uni-app.es.4906cff5.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";const B={props:{indicatorWidth:{type:[String,Number],default:()=>t.scrollList.indicatorWidth},indicatorBarWidth:{type:[String,Number],default:()=>t.scrollList.indicatorBarWidth},indicator:{type:Boolean,default:()=>t.scrollList.indicator},indicatorColor:{type:String,default:()=>t.scrollList.indicatorColor},indicatorActiveColor:{type:String,default:()=>t.scrollList.indicatorActiveColor},indicatorStyle:{type:[String,Object],default:()=>t.scrollList.indicatorStyle}}};function L(t,l){t.selectComponent(".u-scroll-list__indicator__line__bar")&&t.selectComponent(".u-scroll-list__indicator__line__bar").setStyle({transform:"translateX("+l+"px)"})}const A={scroll:function(t,l){var i=t.detail,o=i.scrollWidth,s=i.scrollLeft,e=t.currentTarget.dataset;L(l,s/(o-(e.scrollWidth||e.scrollwidth||0))*((e.indicatorWidth||e.indicatorwidth||0)-(e.barWidth||e.barwidth||0)))},scrolltolower:function(t,l){l.callMethod("scrollEvent","right");var i=t.currentTarget.dataset;L(l,(i.indicatorWidth||i.indicatorwidth||0)-(i.barWidth||i.barwidth||0))},scrolltoupper:function(t,l){l.callMethod("scrollEvent","left"),L(l,0)}},$=t=>{t.$wxs||(t.$wxs=[]),t.$wxs.push("wxs"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.wxs=A}})},M={name:"u-scroll-list",mixins:[l,i,B],data:()=>({scrollInfo:{scrollLeft:0,scrollWidth:0},scrollWidth:0}),computed:{barStyle(){const t={};return t.width=o(this.indicatorBarWidth),t.backgroundColor=this.indicatorActiveColor,t},lineStyle(){const t={};return t.width=o(this.indicatorWidth),t.backgroundColor=this.indicatorColor,t}},mounted(){this.init()},emits:["left","right"],methods:{addStyle:s,getPx:e,init(){this.getComponentWidth()},scrollEvent(t){this.$emit(t)},async getComponentWidth(){await r(30),this.$uGetRect(".u-scroll-list").then((t=>{this.scrollWidth=t.width}))}}};$(M);const U=k(M,[["render",function(t,l,i,o,s,e){const r=h,g=p;return a(),n(r,{class:"u-scroll-list",ref:"u-scroll-list"},{default:c((()=>[d(g,{class:"u-scroll-list__scroll-view","scroll-x":"",onScroll:t.wxs.scroll,onScrolltoupper:t.wxs.scrolltoupper,onScrolltolower:t.wxs.scrolltolower,"data-scrollWidth":s.scrollWidth,"data-barWidth":e.getPx(t.indicatorBarWidth),"data-indicatorWidth":e.getPx(t.indicatorWidth),"show-scrollbar":!1,"upper-threshold":0,"lower-threshold":0},{default:c((()=>[d(r,{class:"u-scroll-list__scroll-view__content"},{default:c((()=>[u(t.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["onScroll","onScrolltoupper","onScrolltolower","data-scrollWidth","data-barWidth","data-indicatorWidth"]),t.indicator?(a(),n(r,{key:0,class:"u-scroll-list__indicator",style:_([e.addStyle(t.indicatorStyle)])},{default:c((()=>[d(r,{class:"u-scroll-list__indicator__line",style:_([e.lineStyle])},{default:c((()=>[d(r,{class:"u-scroll-list__indicator__line__bar",style:_([e.barStyle]),ref:"u-scroll-list__indicator__line__bar"},null,8,["style"])])),_:1},8,["style"])])),_:1},8,["style"])):m("",!0)])),_:3},512)}],["__scopeId","data-v-ef74b3c1"]]);const E=k({data:()=>({goodsBaseUrl:"https://cdn.uviewui.com/uview/goods/",menuBaseUrl:"https://cdn.uviewui.com/uview/menu/",goodsArr:[{price:"230.5",thumbnail:"1.jpg"},{price:"74.1",thumbnail:"2.jpg"},{price:"8457",thumbnail:"6.jpg"},{price:"1442",thumbnail:"5.jpg"},{price:"541",thumbnail:"2.jpg"},{price:"234",thumbnail:"3.jpg"},{price:"562",thumbnail:"4.jpg"},{price:"251.5",thumbnail:"1.jpg"}],menuArr:[[{name:"天猫新品",icon:"11.png"},{name:"今日爆款",icon:"9.png"},{name:"天猫国际",icon:"17.png"},{name:"饿了么",icon:"6.png"},{name:"天猫超市",icon:"11.png"},{name:"分类",icon:"2.png"},{name:"天猫美食",icon:"3.png"},{name:"阿里健康",icon:"12.png"},{name:"口碑生活",icon:"7.png"}],[{name:"充值中心",icon:"8.png"},{name:"机票酒店",icon:"10.png"},{name:"金币庄园",icon:"18.png"},{name:"阿里拍卖",icon:"15.png"},{name:"淘宝吃货",icon:"16.png"},{name:"闲鱼",icon:"4.png"},{name:"会员中心",icon:"6.png"},{name:"造点新货",icon:"13.png"},{name:"土货鲜食",icon:"14.png"}]]}),methods:{showMore(){uni.$u.toast("查看更多")},left(){console.log("left")},right(){console.log("right")}}},[["render",function(t,l,i,o,s,e){const r=y,u=v,_=h,m=j(x("up-icon"),C),p=j(x("up-scroll-list"),U);return a(),n(_,{class:"u-page"},{default:c((()=>[d(_,{class:"u-demo-block"},{default:c((()=>[d(r,{class:"u-demo-block__title",style:{"margin-bottom":"15px"}},{default:c((()=>[g("基础使用")])),_:1}),d(p,{indicatorColor:"#fff0f0",indicatorActiveColor:"#f56c6c",onRight:e.right,onLeft:e.left},{default:c((()=>[d(_,{class:"scroll-list",style:{"flex-direction":"row"}},{default:c((()=>[(a(!0),f(w,null,b(s.goodsArr,((t,l)=>(a(),n(_,{class:W(["scroll-list__goods-item",[9===l&&"scroll-list__goods-item--no-margin-right"]]),key:l},{default:c((()=>[d(u,{class:"scroll-list__goods-item__image",src:s.goodsBaseUrl+t.thumbnail,mode:""},null,8,["src"]),d(r,{class:"scroll-list__goods-item__text"},{default:c((()=>[g("￥"+S(t.price),1)])),_:2},1024)])),_:2},1032,["class"])))),128)),d(_,{class:"scroll-list__show-more",onClick:e.showMore},{default:c((()=>[d(r,{class:"scroll-list__show-more__text"},{default:c((()=>[g("查看更多")])),_:1}),d(m,{name:"arrow-leftward",color:"#f56c6c",size:"12"})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["onRight","onLeft"])])),_:1}),d(_,{class:"u-demo-block"},{default:c((()=>[d(r,{class:"u-demo-block__title"},{default:c((()=>[g("多菜单扩展")])),_:1}),d(p,null,{default:c((()=>[d(_,{class:"scroll-list"},{default:c((()=>[(a(!0),f(w,null,b(s.menuArr,((t,l)=>(a(),n(_,{class:"scroll-list__line",key:l},{default:c((()=>[(a(!0),f(w,null,b(t,((l,i)=>(a(),n(_,{class:W(["scroll-list__line__item",[i===t.length-1&&"scroll-list__line__item--no-margin-right"]]),key:i},{default:c((()=>[d(u,{class:"scroll-list__line__item__image",src:s.menuBaseUrl+l.icon,mode:""},null,8,["src"]),d(r,{class:"scroll-list__line__item__text"},{default:c((()=>[g(S(l.name),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-b884b81e"]]);export{E as default};
