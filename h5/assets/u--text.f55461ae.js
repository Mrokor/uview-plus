import{d as e,o as t,c as n,w as o,l as i,n as s,g as u,f as r,a as l,t as a,h as p,i as c,z as d,j as f}from"./index-aa2b8fb8.js";import{_ as m}from"./u-icon.9dfb5cac.js";import{r as y}from"./uni-app.es.392722c2.js";import{_ as x}from"./u-link.1670b144.js";import{m as g,a as h}from"./mixin.d0c91ebc.js";import{_ as $}from"./_plugin-vue_export-helper.1b428a4d.js";const S={props:{type:{type:String,default:()=>uni.$u.props.text.type},show:{type:Boolean,default:()=>uni.$u.props.text.show},text:{type:[String,Number],default:()=>uni.$u.props.text.text},prefixIcon:{type:String,default:()=>uni.$u.props.text.prefixIcon},suffixIcon:{type:String,default:()=>uni.$u.props.text.suffixIcon},mode:{type:String,default:()=>uni.$u.props.text.mode},href:{type:String,default:()=>uni.$u.props.text.href},format:{type:[String,Function],default:()=>uni.$u.props.text.format},call:{type:Boolean,default:()=>uni.$u.props.text.call},openType:{type:String,default:()=>uni.$u.props.text.openType},bold:{type:Boolean,default:()=>uni.$u.props.text.bold},block:{type:Boolean,default:()=>uni.$u.props.text.block},lines:{type:[String,Number],default:()=>uni.$u.props.text.lines},color:{type:String,default:()=>uni.$u.props.text.color},size:{type:[String,Number],default:()=>uni.$u.props.text.size},iconStyle:{type:[Object,String],default:()=>uni.$u.props.text.iconStyle},decoration:{tepe:String,default:()=>uni.$u.props.text.decoration},margin:{type:[Object,String,Number],default:()=>uni.$u.props.text.margin},lineHeight:{type:[String,Number],default:()=>uni.$u.props.text.lineHeight},align:{type:String,default:()=>uni.$u.props.text.align},wordWrap:{type:String,default:()=>uni.$u.props.text.wordWrap}}};const _=$({name:"u--text",mixins:[g,h,S],components:{uvText:$({name:"u--text",mixins:[g,h,{computed:{value(){const{text:e,mode:t,format:n,href:o}=this;return"price"===t?(/^\d+(\.\d+)?$/.test(e)||uni.$u.error("金额模式下，text参数需要为金额格式"),uni.$u.test.func(n)?n(e):uni.$u.priceFormat(e,2)):"date"===t?(!uni.$u.test.date(e)&&uni.$u.error("日期模式下，text参数需要为日期或时间戳格式"),uni.$u.test.func(n)?n(e):n?uni.$u.timeFormat(e,n):uni.$u.timeFormat(e,"yyyy-mm-dd")):"phone"===t?uni.$u.test.func(n)?n(e):"encrypt"===n?`${e.substr(0,3)}****${e.substr(7)}`:e:"name"===t?("string"!=typeof e&&uni.$u.error("姓名模式下，text参数需要为字符串格式"),uni.$u.test.func(n)?n(e):"encrypt"===n?this.formatName(e):e):"link"===t?(!uni.$u.test.url(o)&&uni.$u.error("超链接模式下，href参数需要为URL格式"),e):e}},methods:{formatName(e){let t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){let n="";for(let t=0,o=e.length-2;t<o;t++)n+="*";t=e.substr(0,1)+n+e.substr(-1,1)}else t=e;return t}}},S],emits:["click"],computed:{valueStyle(){const e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:uni.$u.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),this.lineHeight&&(e.lineHeight=uni.$u.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},isNvue:()=>!1,isMp:()=>!1},data:()=>({}),methods:{clickHandler(){this.call&&"phone"===this.mode&&uni.makePhoneCall({phoneNumber:this.text}),this.$emit("click")}}},[["render",function(f,g,h,$,S,_){const b=p,v=y(e("u-icon"),m),k=c,w=y(e("u-link"),x),I=d;return f.show?(t(),n(k,{key:0,class:i(["u-text",[]]),style:s({margin:f.margin,justifyContent:"left"===f.align?"flex-start":"center"===f.align?"center":"flex-end"}),onClick:_.clickHandler},{default:o((()=>["price"===f.mode?(t(),n(b,{key:0,class:i(["u-text__price",f.type&&`u-text__value--${f.type}`]),style:s([_.valueStyle])},{default:o((()=>[u("￥")])),_:1},8,["class","style"])):r("v-if",!0),f.prefixIcon?(t(),n(k,{key:1,class:"u-text__prefix-icon"},{default:o((()=>[l(v,{name:f.prefixIcon,customStyle:f.$u.addStyle(f.iconStyle)},null,8,["name","customStyle"])])),_:1})):r("v-if",!0),"link"===f.mode?(t(),n(w,{key:2,class:i(["u-text__value",[f.type&&`u-text__value--${f.type}`,f.lines&&`u-line-${f.lines}`]]),style:s({fontWeight:_.valueStyle.fontWeight,wordWrap:_.valueStyle.wordWrap,fontSize:_.valueStyle.fontSize}),text:f.value,href:f.href,underLine:""},null,8,["style","class","text","href"])):f.openType&&_.isMp?(t(),n(I,{key:3,class:"u-reset-button u-text__value",style:s([_.valueStyle]),"data-index":f.index,openType:f.openType,onGetuserinfo:f.onGetUserInfo,onContact:f.onContact,onGetphonenumber:f.onGetPhoneNumber,onError:f.onError,onLaunchapp:f.onLaunchApp,onOpensetting:f.onOpenSetting,lang:f.lang,"session-from":f.sessionFrom,"send-message-title":f.sendMessageTitle,"send-message-path":f.sendMessagePath,"send-message-img":f.sendMessageImg,"show-message-card":f.showMessageCard,"app-parameter":f.appParameter},{default:o((()=>[u(a(f.value),1)])),_:1},8,["style","data-index","openType","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"])):(t(),n(b,{key:4,class:i(["u-text__value",[f.type&&`u-text__value--${f.type}`,f.lines&&`u-line-${f.lines}`]]),style:s([_.valueStyle])},{default:o((()=>[u(a(f.value),1)])),_:1},8,["style","class"])),f.suffixIcon?(t(),n(k,{key:5,class:"u-text__suffix-icon"},{default:o((()=>[l(v,{name:f.suffixIcon,customStyle:f.$u.addStyle(f.iconStyle)},null,8,["name","customStyle"])])),_:1})):r("v-if",!0)])),_:1},8,["style","onClick"])):r("v-if",!0)}],["__scopeId","data-v-28f553a0"]])}},[["render",function(e,o,i,s,u,r){const l=f("uvText");return t(),n(l,{type:e.type,show:e.show,text:e.text,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,mode:e.mode,href:e.href,format:e.format,call:e.call,openType:e.openType,bold:e.bold,block:e.block,lines:e.lines,color:e.color,decoration:e.decoration,size:e.size,iconStyle:e.iconStyle,margin:e.margin,lineHeight:e.lineHeight,align:e.align,wordWrap:e.wordWrap,customStyle:e.customStyle},null,8,["type","show","text","prefixIcon","suffixIcon","mode","href","format","call","openType","bold","block","lines","color","decoration","size","iconStyle","margin","lineHeight","align","wordWrap","customStyle"])}]]);export{_};
