import{d as t,o as e,c as a,w as s,l as i,n as r,f as n,a as o,k as c,g as l,t as u,i as d,h as p}from"./index-4f0c5e1d.js";import{_}from"./u-icon.e9ca9d71.js";import{r as m}from"./uni-app.es.fcad82c0.js";import{_ as h}from"./u--text.3ba6596a.js";import{m as f,a as D}from"./mixin.d0c91ebc.js";import{_ as v}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-link.2a6cd9b0.js";const k=v({name:"u-steps-item",mixins:[f,D,{props:{title:{type:[String,Number],default:()=>uni.$u.props.stepsItem.title},desc:{type:[String,Number],default:()=>uni.$u.props.stepsItem.desc},iconSize:{type:[String,Number],default:()=>uni.$u.props.stepsItem.iconSize},error:{type:Boolean,default:()=>uni.$u.props.stepsItem.error}}}],data:()=>({index:0,childLength:0,showLine:!1,size:{height:0,width:0},parentData:{direction:"row",current:0,activeColor:"",inactiveColor:"",activeIcon:"",inactiveIcon:"",dot:!1}}),watch:{parentData(t,e){}},created(){this.init()},computed:{lineStyle(){var t,e;const a={};return"row"===this.parentData.direction?(a.width=this.size.width+"px",a.left=this.size.width/2+"px"):a.height=this.size.height+"px",a.backgroundColor=(null==(e=null==(t=this.parent.children)?void 0:t[this.index+1])?void 0:e.error)?uni.$u.color.error:this.index<this.parentData.current?this.parentData.activeColor:this.parentData.inactiveColor,a},statusClass(){const{index:t,error:e}=this,{current:a}=this.parentData;return a==t?!0===e?"error":"process":e?"error":a>t?"finish":"wait"},statusColor(){let t="";switch(this.statusClass){case"finish":t=this.parentData.activeColor;break;case"error":t=uni.$u.color.error;break;case"process":t=this.parentData.dot?this.parentData.activeColor:"transparent";break;default:t=this.parentData.inactiveColor}return t},contentStyle(){const t={};return"column"===this.parentData.direction?(t.marginLeft=this.parentData.dot?"2px":"6px",t.marginTop=this.parentData.dot?"0px":"6px"):(t.marginTop=this.parentData.dot?"2px":"6px",t.marginLeft=this.parentData.dot?"2px":"6px"),t}},mounted(){this.parent&&this.parent.updateFromChild(),uni.$u.sleep().then((()=>{this.getStepsItemRect()}))},methods:{init(){if(this.updateParentData(),!this.parent)return uni.$u.error("u-steps-item必须要搭配u-steps组件使用");this.index=this.parent.children.indexOf(this),this.childLength=this.parent.children.length},updateParentData(){this.getParentData("u-steps")},updateFromParent(){this.init()},getStepsItemRect(){this.$uGetRect(".u-steps-item").then((t=>{this.size=t}))}}},[["render",function(f,D,v,k,C,x){const y=d,b=m(t("u-icon"),_),g=p,$=m(t("u--text"),h);return e(),a(y,{class:i(["u-steps-item",[`u-steps-item--${C.parentData.direction}`]]),ref:"u-steps-item"},{default:s((()=>[C.index+1<C.childLength?(e(),a(y,{key:0,class:i(["u-steps-item__line",[`u-steps-item__line--${C.parentData.direction}`]]),style:r([x.lineStyle])},null,8,["class","style"])):n("v-if",!0),o(y,{class:i(["u-steps-item__wrapper",[`u-steps-item__wrapper--${C.parentData.direction}`,C.parentData.dot&&`u-steps-item__wrapper--${C.parentData.direction}--dot`]])},{default:s((()=>[c(f.$slots,"icon",{},(()=>[C.parentData.dot?(e(),a(y,{key:0,class:"u-steps-item__wrapper__dot",style:r({backgroundColor:x.statusColor})},null,8,["style"])):C.parentData.activeIcon||C.parentData.inactiveIcon?(e(),a(y,{key:1,class:"u-steps-item__wrapper__icon"},{default:s((()=>[o(b,{name:C.index<=C.parentData.current?C.parentData.activeIcon:C.parentData.inactiveIcon,size:f.iconSize,color:C.index<=C.parentData.current?C.parentData.activeColor:C.parentData.inactiveColor},null,8,["name","size","color"])])),_:1})):(e(),a(y,{key:2,style:r({backgroundColor:"process"===x.statusClass?C.parentData.activeColor:"transparent",borderColor:x.statusColor}),class:"u-steps-item__wrapper__circle"},{default:s((()=>["process"===x.statusClass||"wait"===x.statusClass?(e(),a(g,{key:0,class:"u-steps-item__wrapper__circle__text",style:r({color:C.index==C.parentData.current?"#ffffff":C.parentData.inactiveColor})},{default:s((()=>[l(u(C.index+1),1)])),_:1},8,["style"])):(e(),a(b,{key:1,color:"error"===x.statusClass?"error":C.parentData.activeColor,size:"12",name:"error"===x.statusClass?"close":"checkmark"},null,8,["color","name"]))])),_:1},8,["style"]))]),!0)])),_:3},8,["class"]),o(y,{class:i(["u-steps-item__content",[`u-steps-item__content--${C.parentData.direction}`]]),style:r([x.contentStyle])},{default:s((()=>[o($,{text:f.title,type:C.parentData.current==C.index?"main":"content",lineHeight:"20px",size:C.parentData.current==C.index?14:13},null,8,["text","type","size"]),c(f.$slots,"desc",{},(()=>[o($,{text:f.desc,type:"tips",size:"12"},null,8,["text"])]),!0)])),_:3},8,["class","style"]),n(' <view\n\t\t    class="u-steps-item__line"\n\t\t    v-if="showLine && parentData.direction === \'column\'"\n\t\t\t:class="[`u-steps-item__line--${parentData.direction}`]"\n\t\t    :style="[lineStyle]"\n\t\t></view> ')])),_:3},8,["class"])}],["__scopeId","data-v-b7078083"]]);const C=v({name:"u-steps",mixins:[f,D,{props:{direction:{type:String,default:()=>uni.$u.props.steps.direction},current:{type:[String,Number],default:()=>uni.$u.props.steps.current},activeColor:{type:String,default:()=>uni.$u.props.steps.activeColor},inactiveColor:{type:String,default:()=>uni.$u.props.steps.inactiveColor},activeIcon:{type:String,default:()=>uni.$u.props.steps.activeIcon},inactiveIcon:{type:String,default:()=>uni.$u.props.steps.inactiveIcon},dot:{type:Boolean,default:()=>uni.$u.props.steps.dot}}}],data:()=>({}),watch:{children(){this.updateChildData()},parentData(){this.updateChildData()}},computed:{parentData(){return[this.current,this.direction,this.activeColor,this.inactiveColor,this.activeIcon,this.inactiveIcon,this.dot]}},methods:{updateChildData(){this.children.map((t=>{uni.$u.test.func((t||{}).updateFromParent())&&t.updateFromParent()}))},updateFromChild(){this.updateChildData()}},created(){this.children=[]}},[["render",function(t,r,n,o,l,u){const p=d;return e(),a(p,{class:i(["u-steps",[`u-steps--${t.direction}`]])},{default:s((()=>[c(t.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}],["__scopeId","data-v-b172aba0"]]);const x=v({data:()=>({current1:1}),onLoad(){}},[["render",function(i,r,n,c,u,_){const h=p,f=m(t("u-steps-item"),k),D=m(t("u-steps"),C),v=d;return e(),a(v,{class:"u-page"},{default:s((()=>[o(v,{class:"u-demo-block"},{default:s((()=>[o(h,{class:"u-demo-block__title"},{default:s((()=>[l("基础演示")])),_:1}),o(v,{class:"u-demo-block__content"},{default:s((()=>[o(D,{current:u.current1},{default:s((()=>[o(f,{title:"已下单",desc:"10:30"}),o(f,{title:"已出库",desc:"10:35"}),o(f,{title:"运输中",desc:"11:40"})])),_:1},8,["current"])])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:s((()=>[o(h,{class:"u-demo-block__title"},{default:s((()=>[l("显示点类型")])),_:1}),o(v,{class:"u-demo-block__content"},{default:s((()=>[o(D,{current:1,dot:""},{default:s((()=>[o(f,{title:"已下单",desc:"10:30"}),o(f,{title:"已出库",desc:"10:35"}),o(f,{title:"运输中",desc:"11:40"})])),_:1}),o(D,{current:1,dot:"",direction:"column"},{default:s((()=>[o(f,{title:"已下单",desc:"10:30"}),o(f,{title:"已出库",desc:"10:35"}),o(f,{title:"运输中",desc:"11:40"})])),_:1})])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:s((()=>[o(h,{class:"u-demo-block__title"},{default:s((()=>[l("错误状态")])),_:1}),o(v,{class:"u-demo-block__content"},{default:s((()=>[o(D,{current:1},{default:s((()=>[o(f,{title:"已下单",desc:"10:30"}),o(f,{error:"",title:"仓库着火",desc:"10:35"}),o(f,{title:"破产清算",desc:"11:40"})])),_:1})])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:s((()=>[o(h,{class:"u-demo-block__title"},{default:s((()=>[l("自定义图标")])),_:1}),o(v,{class:"u-demo-block__content"},{default:s((()=>[o(D,{current:1,activeIcon:"checkmark",inactiveIcon:"arrow-right"},{default:s((()=>[o(f,{title:"已下单",desc:"10:30"}),o(f,{title:"已出库",desc:"10:35"}),o(f,{title:"运输中",desc:"11:40"})])),_:1})])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:s((()=>[o(h,{class:"u-demo-block__title"},{default:s((()=>[l("自定义插槽")])),_:1}),o(v,{class:"u-demo-block__content"},{default:s((()=>[o(D,{current:1},{default:s((()=>[o(f,{title:"已下单",desc:"10:30"}),o(f,{title:"已出库",desc:"10:35"}),o(f,{title:"运输中",desc:"11:40"},{icon:s((()=>[o(h,{class:"slot-icon"},{default:s((()=>[l("运")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:s((()=>[o(h,{class:"u-demo-block__title"},{default:s((()=>[l("自定义颜色")])),_:1}),o(v,{class:"u-demo-block__content"},{default:s((()=>[o(D,{current:1,activeColor:"#3c9cff"},{default:s((()=>[o(f,{title:"已下单",desc:"10:30"}),o(f,{title:"已出库",desc:"10:35"}),o(f,{title:"运输中",desc:"11:40"})])),_:1})])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:s((()=>[o(h,{class:"u-demo-block__title"},{default:s((()=>[l("竖向展示")])),_:1}),o(v,{class:"u-demo-block__content"},{default:s((()=>[o(D,{current:1,direction:"column"},{default:s((()=>[o(f,{title:"已下单",desc:"10:30"}),o(f,{title:"已出库",desc:"10:35"}),o(f,{title:"运输中",desc:"11:40"})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-d5ad3aee"]]);export{x as default};
