import{o as t,c as e,w as s,a as o,l as n,n as i,b as r,F as u,r as c,g as l,t as a,i as d,h as b,d as h}from"./index-4f0c5e1d.js";import{m,a as _}from"./mixin.d0c91ebc.js";import{_ as p}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as f}from"./uni-app.es.fcad82c0.js";const g=p({name:"u-subsection",mixins:[m,_,{props:{list:{type:Array,default:()=>uni.$u.props.subsection.list},current:{type:[String,Number],default:()=>uni.$u.props.subsection.current},activeColor:{type:String,default:()=>uni.$u.props.subsection.activeColor},inactiveColor:{type:String,default:()=>uni.$u.props.subsection.inactiveColor},mode:{type:String,default:()=>uni.$u.props.subsection.mode},fontSize:{type:[String,Number],default:()=>uni.$u.props.subsection.fontSize},bold:{type:Boolean,default:()=>uni.$u.props.subsection.bold},bgColor:{type:String,default:()=>uni.$u.props.subsection.bgColor},keyName:{type:String,default:()=>uni.$u.props.subsection.keyName}}}],data:()=>({itemRect:{width:0,height:0}}),watch:{list(t,e){this.init()},current:{immediate:!0,handler(t){}}},computed:{wrapperStyle(){const t={};return"button"===this.mode&&(t.backgroundColor=this.bgColor),t},barStyle(){const t={};return t.width=`${this.itemRect.width}px`,t.height=`${this.itemRect.height}px`,t.transform=`translateX(${this.current*this.itemRect.width}px)`,"subsection"===this.mode&&(t.backgroundColor=this.activeColor),t},itemStyle(t){return t=>{const e={};return"subsection"===this.mode&&(e.borderColor=this.activeColor,e.borderWidth="1px",e.borderStyle="solid"),e}},textStyle(t){return t=>{const e={};return e.fontWeight=this.bold&&this.current===t?"bold":"normal",e.fontSize=uni.$u.addUnit(this.fontSize),"subsection"===this.mode?e.color=this.current===t?"#fff":this.inactiveColor:e.color=this.current===t?this.activeColor:this.inactiveColor,e}}},mounted(){this.init()},emits:["change"],methods:{init(){uni.$u.sleep().then((()=>this.getRect()))},getText(t){return"object"==typeof t?t[this.keyName]:t},getRect(){this.$uGetRect(".u-subsection__item--0").then((t=>{this.itemRect=t}))},clickHandler(t){this.$emit("change",t)}}},[["render",function(h,m,_,p,f,g){const y=d,C=b;return t(),e(y,{class:n(["u-subsection",[`u-subsection--${h.mode}`]]),ref:"u-subsection",style:i([h.$u.addStyle(h.customStyle),g.wrapperStyle])},{default:s((()=>[o(y,{class:n(["u-subsection__bar cursor-pointer",["button"===h.mode&&"u-subsection--button__bar",0===h.current&&"subsection"===h.mode&&"u-subsection__bar--first",h.current>0&&h.current<h.list.length-1&&"subsection"===h.mode&&"u-subsection__bar--center",h.current===h.list.length-1&&"subsection"===h.mode&&"u-subsection__bar--last"]]),ref:"u-subsection__bar",style:i([g.barStyle])},null,8,["style","class"]),(t(!0),r(u,null,c(h.list,((r,u)=>(t(),e(y,{class:n(["u-subsection__item cursor-pointer",[`u-subsection__item--${u}`,u<h.list.length-1&&"u-subsection__item--no-border-right",0===u&&"u-subsection__item--first",u===h.list.length-1&&"u-subsection__item--last"]]),ref_for:!0,ref:`u-subsection__item--${u}`,style:i([g.itemStyle(u)]),onClick:t=>g.clickHandler(u),key:u},{default:s((()=>[o(C,{class:"u-subsection__item__text",style:i([g.textStyle(u)])},{default:s((()=>[l(a(g.getText(r)),1)])),_:2},1032,["style"])])),_:2},1032,["class","style","onClick"])))),128))])),_:1},8,["class","style"])}],["__scopeId","data-v-003be7c2"]]);const y=p({data:()=>({current1:0,current2:0,current3:0,current4:1,list:["未付款","待评价","已付款"],current:1}),methods:{change1(t){this.current1=t},change2(t){this.current2=t},change3(t){this.current3=t},change4(t){this.current4=t}}},[["render",function(n,i,r,u,c,a){const m=b,_=f(h("u-subsection"),g),p=d;return t(),e(p,{class:"u-page"},{default:s((()=>[o(p,{class:"u-demo-block"},{default:s((()=>[o(m,{class:"u-demo-block__title"},{default:s((()=>[l("基础使用")])),_:1}),o(p,{class:"u-demo-block__content"},{default:s((()=>[o(_,{list:c.list,mode:"subsection",current:c.current1,onChange:a.change1},null,8,["list","current","onChange"])])),_:1})])),_:1}),o(p,{class:"u-demo-block"},{default:s((()=>[o(m,{class:"u-demo-block__title"},{default:s((()=>[l("按钮模式")])),_:1}),o(p,{class:"u-demo-block__content"},{default:s((()=>[o(_,{list:c.list,mode:"button",current:c.current2,onChange:a.change2},null,8,["list","current","onChange"])])),_:1})])),_:1}),o(p,{class:"u-demo-block"},{default:s((()=>[o(m,{class:"u-demo-block__title"},{default:s((()=>[l("更换主题")])),_:1}),o(p,{class:"u-demo-block__content"},{default:s((()=>[o(_,{list:c.list,mode:"subsection",current:c.current3,activeColor:"#f56c6c",onChange:a.change3},null,8,["list","current","onChange"])])),_:1})])),_:1}),o(p,{class:"u-demo-block"},{default:s((()=>[o(m,{class:"u-demo-block__title"},{default:s((()=>[l("默认位置")])),_:1}),o(p,{class:"u-demo-block__content"},{default:s((()=>[o(_,{list:c.list,mode:"button",current:c.current4,activeColor:"#f9ae3d",onChange:a.change4},null,8,["list","current","onChange"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-285d1ae7"]]);export{y as default};
