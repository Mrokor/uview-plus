import{v as e,d as t,o as a,c as l,w as i,a as s,k as n,g as o,t as u,f as c,h as d,i as p}from"./index-4f0c5e1d.js";import{_ as r}from"./u-icon.e9ca9d71.js";import{r as _}from"./uni-app.es.fcad82c0.js";import{_ as m}from"./u-cell.a5a44b23.js";import{_ as f}from"./u-line.0a9c4e0a.js";import{m as h,a as g}from"./mixin.d0c91ebc.js";import{_ as $}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as b}from"./u-gap.7c7ec09c.js";const v=$({name:"u-collapse-item",mixins:[h,g,{props:{title:{type:String,default:()=>uni.$u.props.collapseItem.title},value:{type:String,default:()=>uni.$u.props.collapseItem.value},label:{type:String,default:()=>uni.$u.props.collapseItem.label},disabled:{type:Boolean,default:()=>uni.$u.props.collapseItem.disabled},isLink:{type:Boolean,default:()=>uni.$u.props.collapseItem.isLink},clickable:{type:Boolean,default:()=>uni.$u.props.collapseItem.clickable},border:{type:Boolean,default:()=>uni.$u.props.collapseItem.border},align:{type:String,default:()=>uni.$u.props.collapseItem.align},name:{type:[String,Number],default:()=>uni.$u.props.collapseItem.name},icon:{type:String,default:()=>uni.$u.props.collapseItem.icon},duration:{type:Number,default:()=>uni.$u.props.collapseItem.duration}}}],data:()=>({elId:uni.$u.guid(),animationData:{},expanded:!1,showBorder:!1,animating:!1,parentData:{accordion:!1,border:!1}}),watch:{expanded(e){clearTimeout(this.timer),this.timer=null,this.timer=setTimeout((()=>{this.showBorder=e}),e?10:290)}},mounted(){this.init(),console.log("$slots",this.$slots)},methods:{async init(){if(this.updateParentData(),!this.parent)return uni.$u.error("u-collapse-item必须要搭配u-collapse组件使用");const{value:t,accordion:a,children:l=[]}=this.parent;if(a){if(uni.$u.test.array(t))return uni.$u.error("手风琴模式下，u-collapse组件的value参数不能为数组");this.expanded=this.name==t}else{if(!uni.$u.test.array(t)&&null!==t)return uni.$u.error("非手风琴模式下，u-collapse组件的value参数必须为数组");this.expanded=(t||[]).some((e=>e==this.name))}await e(),this.setContentAnimate()},updateParentData(){this.getParentData("u-collapse")},async setContentAnimate(){const e=await this.queryRect(),t=this.expanded?e.height:0;this.animating=!0;const a=uni.createAnimation({timingFunction:"ease-in-out"});a.height(t).step({duration:this.duration}).step(),this.animationData=a.export(),uni.$u.sleep(this.duration).then((()=>{this.animating=!1}))},clickHandler(){this.disabled&&this.animating||this.parent&&this.parent.onChange(this)},queryRect(){return new Promise((e=>{this.$uGetRect(`#${this.elId}`).then((t=>{e(t)}))}))}}},[["render",function(e,h,g,$,b,v){const y=d,x=_(t("u-icon"),r),k=_(t("u-cell"),m),I=p,D=_(t("u-line"),f);return a(),l(I,{class:"u-collapse-item"},{default:i((()=>[s(k,{title:e.$slots.title?"":e.title,value:e.value,label:e.label,icon:e.icon,isLink:e.isLink,clickable:e.clickable,border:b.parentData.border&&b.showBorder,onClick:v.clickHandler,arrowDirection:b.expanded?"up":"down",disabled:e.disabled},{title:i((()=>[n(e.$slots,"title",{},(()=>[!e.$slots.title&&e.title?(a(),l(y,{key:0},{default:i((()=>[o(u(e.title),1)])),_:1})):c("v-if",!0)]),!0)])),icon:i((()=>[n(e.$slots,"icon",{},(()=>[!e.$slots.icon&&e.icon?(a(),l(x,{key:0,size:22,name:e.icon},null,8,["name"])):c("v-if",!0)]),!0)])),value:i((()=>[n(e.$slots,"value",{},(()=>[!e.$slots.value&&e.value?(a(),l(y,{key:0},{default:i((()=>[o(u(e.value),1)])),_:1})):c("v-if",!0)]),!0)])),"right-icon":i((()=>[n(e.$slots,"right-icon",{},void 0,!0)])),_:3},8,["title","value","label","icon","isLink","clickable","border","onClick","arrowDirection","disabled"]),s(I,{class:"u-collapse-item__content",animation:b.animationData,ref:"animation"},{default:i((()=>[s(I,{class:"u-collapse-item__content__text content-class",id:b.elId,ref:b.elId},{default:i((()=>[n(e.$slots,"default",{},void 0,!0)])),_:3},8,["id"])])),_:3},8,["animation"]),b.parentData.border?(a(),l(D,{key:0})):c("v-if",!0)])),_:3})}],["__scopeId","data-v-35829f51"]]);const y=$({name:"u-collapse",mixins:[h,g,{props:{value:{type:[String,Number,Array,null],default:()=>uni.$u.props.collapse.value},accordion:{type:Boolean,default:()=>uni.$u.props.collapse.accordion},border:{type:Boolean,default:()=>uni.$u.props.collapse.border}}}],watch:{needInit(){this.init()},parentData(){this.children.length&&this.children.map((e=>{"function"==typeof e.updateParentData&&e.updateParentData()}))}},created(){this.children=[]},computed:{needInit(){return[this.accordion,this.value]}},emits:["open","close","change"],methods:{init(){this.children.map((e=>{e.init()}))},onChange(e){let t=[];this.children.map(((a,l)=>{this.accordion?(a.expanded=a===e&&!e.expanded,a.setContentAnimate()):a===e&&(a.expanded=!a.expanded,a.setContentAnimate()),t.push({name:a.name||l,status:a.expanded?"open":"close"})})),this.$emit("change",t),this.$emit(e.expanded?"open":"close",e.name)}}},[["render",function(e,s,o,u,d,r){const m=_(t("u-line"),f),h=p;return a(),l(h,{class:"u-collapse"},{default:i((()=>[e.border?(a(),l(m,{key:0})):c("v-if",!0),n(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-1814abc7"]]);const x=$({data:()=>({}),methods:{open(e){},close(e){},change(e){}}},[["render",function(e,n,u,m,f,h){const g=d,$=_(t("u-collapse-item"),v),x=_(t("u-collapse"),y),k=p,I=_(t("u-icon"),r),D=_(t("u-gap"),b);return a(),l(k,{class:"u-page"},{default:i((()=>[s(k,{class:"u-page__item"},{default:i((()=>[s(g,{class:"u-page__item__title"},{default:i((()=>[o("基础功能")])),_:1}),s(x,{onChange:h.change,onClose:h.close,onOpen:h.open},{default:i((()=>[s($,{title:"文档指南",name:"Docs guide"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),s($,{title:"组件全面",name:"Variety components"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),s($,{title:"众多利器",name:"Numerous tools"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1},8,["onChange","onClose","onOpen"])])),_:1}),s(k,{class:"u-page__item"},{default:i((()=>[s(g,{class:"u-page__item__title"},{default:i((()=>[o("展开和禁用")])),_:1}),s(x,{value:["2"]},{default:i((()=>[s($,{title:"文档指南"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),s($,{disabled:"",title:"组件全面"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),s($,{name:"2",title:"众多利器"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1})])),_:1}),s(k,{class:"u-page__item"},{default:i((()=>[s(g,{class:"u-page__item__title"},{default:i((()=>[o("手风琴模式")])),_:1}),s(x,{accordion:""},{default:i((()=>[s($,{title:"文档指南"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),s($,{title:"组件全面"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),s($,{title:"众多利器"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1})])),_:1}),s(k,{class:"u-page__item"},{default:i((()=>[s(g,{class:"u-page__item__title"},{default:i((()=>[o("移除下划线")])),_:1}),s(x,{accordion:"",border:!1},{default:i((()=>[s($,{title:"文档指南"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),s($,{title:"组件全面"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),s($,{title:"众多利器"},{default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1})])),_:1}),c(' 微信小程序不支持，因为微信中不支持 <slot name="title" slot="title" />的写法 '),s(k,{class:"u-page__item"},{default:i((()=>[s(g,{class:"u-page__item__title"},{default:i((()=>[o("自定义标题和内容")])),_:1}),s(x,{accordion:""},{default:i((()=>[s($,null,{title:i((()=>[s(g,{class:"u-page__item__title__slot-title"},{default:i((()=>[o("文档指南")])),_:1})])),default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),c(' <u-collapse-item\n\t\t\t\t\t:isLink="false"\n\t\t\t\t>\n\t\t\t\t\t<text slot="title" class="u-page__item__title__slot-title">文档指南</text>\n\t\t\t\t\t<text class="u-collapse-content">涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川</text>\n\t\t\t\t</u-collapse-item> '),s($,{title:"组件全面"},{icon:i((()=>[s(I,{name:"tags-fill",size:"20"})])),default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),s($,{title:"众多利器",icon:"tags-fill"},{value:i((()=>[s(g,{class:"u-page__item__title__slot-title"},{default:i((()=>[o("自定义内容")])),_:1})])),default:i((()=>[s(g,{class:"u-collapse-content"},{default:i((()=>[o("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1})])),_:1}),s(D,{height:"50"})])),_:1})}],["__scopeId","data-v-9b6b925b"]]);export{x as default};
