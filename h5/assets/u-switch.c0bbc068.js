import{d as i,o as e,c as t,w as s,a,n as o,l,i as n}from"./index-4f0c5e1d.js";import{_ as u}from"./u-loading-icon.b1b77ee0.js";import{r as c}from"./uni-app.es.fcad82c0.js";import{m as r,a as d}from"./mixin.d0c91ebc.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";const p=h({name:"u-switch",mixins:[r,d,{props:{loading:{type:Boolean,default:()=>uni.$u.props.switch.loading},disabled:{type:Boolean,default:()=>uni.$u.props.switch.disabled},size:{type:[String,Number],default:()=>uni.$u.props.switch.size},activeColor:{type:String,default:()=>uni.$u.props.switch.activeColor},inactiveColor:{type:String,default:()=>uni.$u.props.switch.inactiveColor},modelValue:{type:[Boolean,String,Number],default:()=>uni.$u.props.switch.value},activeValue:{type:[String,Number,Boolean],default:()=>uni.$u.props.switch.activeValue},inactiveValue:{type:[String,Number,Boolean],default:()=>uni.$u.props.switch.inactiveValue},asyncChange:{type:Boolean,default:()=>uni.$u.props.switch.asyncChange},space:{type:[String,Number],default:()=>uni.$u.props.switch.space}}}],watch:{modelValue:{immediate:!0,handler(i){i!==this.inactiveValue&&i!==this.activeValue&&uni.$u.error("v-model绑定的值必须为inactiveValue、activeValue二者之一")}}},data:()=>({bgColor:"#ffffff"}),computed:{isActive(){return this.modelValue===this.activeValue},switchStyle(){let i={};return i.width=uni.$u.addUnit(2*this.size+2),i.height=uni.$u.addUnit(Number(this.size)+2),this.customInactiveColor&&(i.borderColor="rgba(0, 0, 0, 0)"),i.backgroundColor=this.isActive?this.activeColor:this.inactiveColor,i},nodeStyle(){let i={};i.width=uni.$u.addUnit(this.size-this.space),i.height=uni.$u.addUnit(this.size-this.space);const e=this.isActive?uni.$u.addUnit(this.space):uni.$u.addUnit(this.size);return i.transform=`translateX(-${e})`,i},bgStyle(){let i={};return i.width=uni.$u.addUnit(2*Number(this.size)-this.size/2),i.height=uni.$u.addUnit(this.size),i.backgroundColor=this.inactiveColor,i.transform=`scale(${this.isActive?0:1})`,i},customInactiveColor(){return"#fff"!==this.inactiveColor&&"#ffffff"!==this.inactiveColor}},emits:["update:modelValue","change"],methods:{clickHandler(){if(!this.disabled&&!this.loading){const i=this.isActive?this.inactiveValue:this.activeValue;this.asyncChange||this.$emit("update:modelValue",i),this.$nextTick((()=>{this.$emit("change",i)}))}}}},[["render",function(r,d,h,p,m,f){const v=n,g=c(i("u-loading-icon"),u);return e(),t(v,{class:l(["u-switch",[r.disabled&&"u-switch--disabled"]]),style:o([f.switchStyle,r.$u.addStyle(r.customStyle)]),onClick:f.clickHandler},{default:s((()=>[a(v,{class:"u-switch__bg",style:o([f.bgStyle])},null,8,["style"]),a(v,{class:l(["u-switch__node",[r.modelValue&&"u-switch__node--on"]]),style:o([f.nodeStyle]),ref:"u-switch__node"},{default:s((()=>[a(g,{show:r.loading,mode:"circle",timingFunction:"linear",color:r.modelValue?r.activeColor:"#AAABAD",size:.6*r.size},null,8,["show","color","size"])])),_:1},8,["class","style"])])),_:1},8,["class","style","onClick"])}],["__scopeId","data-v-fc89fd7a"]]);export{p as _};
