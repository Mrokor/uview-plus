import{m as e,f as t,o as s,c as a,w as l,a as o,n as r,h as n,j as c,t as u,l as i,i as d,k as g,d as p}from"./index-d9b53327.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as h}from"./uni-app.es.256c20de.js";const f=_({name:"u-line-progress",mixins:[e,t,{props:{activeColor:{type:String,default:()=>uni.$u.props.lineProgress.activeColor},inactiveColor:{type:String,default:()=>uni.$u.props.lineProgress.color},percentage:{type:[String,Number],default:()=>uni.$u.props.lineProgress.inactiveColor},showText:{type:Boolean,default:()=>uni.$u.props.lineProgress.showText},height:{type:[String,Number],default:()=>uni.$u.props.lineProgress.height}}}],data:()=>({lineWidth:0}),watch:{percentage(e){this.resizeProgressWidth()}},computed:{progressStyle(){let e={};return e.width=this.lineWidth,e.backgroundColor=this.activeColor,e.height=uni.$u.addUnit(this.height),e},innserPercentage(){return uni.$u.range(0,100,this.percentage)}},mounted(){this.init()},methods:{init(){uni.$u.sleep(20).then((()=>{this.resizeProgressWidth()}))},getProgressWidth(){return this.$uGetRect(".u-line-progress__background")},resizeProgressWidth(){this.getProgressWidth().then((e=>{const{width:t}=e;this.lineWidth=t*this.innserPercentage/100+"px"}))}}},[["render",function(e,t,p,_,h,f){const m=d,b=g;return s(),a(m,{class:"u-line-progress",style:r([e.$u.addStyle(e.customStyle)])},{default:l((()=>[o(m,{class:"u-line-progress__background",ref:"u-line-progress__background",style:r([{backgroundColor:e.inactiveColor,height:e.$u.addUnit(e.height)}])},null,8,["style"]),o(m,{class:"u-line-progress__line",style:r([f.progressStyle])},{default:l((()=>[n(e.$slots,"default",{},(()=>[e.showText&&e.percentage>=10?(s(),a(b,{key:0,class:"u-line-progress__text"},{default:l((()=>[c(u(f.innserPercentage+"%"),1)])),_:1})):i("",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-f50781ad"]]);const m=_({data:()=>({androidNvue:!1,percentage1:30,percentage2:40,percentage3:50,percentage4:60,percentage5:70,percentage6:50}),onLoad(){uni.$u.sleep(2500).then((()=>{this.percentage1=120}))},methods:{computedWidth(e){this.percentage6="plus"===e?uni.$u.range(0,100,this.percentage6+10):uni.$u.range(0,100,this.percentage6-10)}}},[["render",function(e,t,r,n,_,m){const b=g,k=h(p("up-line-progress"),f),v=d;return s(),a(v,{class:"u-page"},{default:l((()=>[o(v,{class:"u-demo-block"},{default:l((()=>[o(b,{class:"u-demo-block__title"},{default:l((()=>[c("基础功能")])),_:1}),o(v,{class:"u-demo-block__content"},{default:l((()=>[o(k,{percentage:_.percentage1},null,8,["percentage"])])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:l((()=>[o(b,{class:"u-demo-block__title"},{default:l((()=>[c("不显示百分比")])),_:1}),o(v,{class:"u-demo-block__content"},{default:l((()=>[o(k,{showText:!1,percentage:_.percentage2},null,8,["percentage"])])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:l((()=>[o(b,{class:"u-demo-block__title"},{default:l((()=>[c("自定义高度")])),_:1}),o(v,{class:"u-demo-block__content"},{default:l((()=>[o(k,{height:"8",showText:!1,percentage:_.percentage3},null,8,["percentage"])])),_:1})])),_:1}),o(v,{class:"u-demo-block"},{default:l((()=>[o(b,{class:"u-demo-block__title"},{default:l((()=>[c("自定义颜色")])),_:1}),o(v,{class:"u-demo-block__content"},{default:l((()=>[o(k,{height:"8",showText:!1,percentage:_.percentage4,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},null,8,["percentage"])])),_:1})])),_:1}),_.androidNvue?i("",!0):(s(),a(v,{key:0,class:"u-demo-block"},{default:l((()=>[o(b,{class:"u-demo-block__title"},{default:l((()=>[c("自定义样式(不支持安卓环境的nvue)")])),_:1}),o(v,{class:"u-demo-block__content"},{default:l((()=>[o(k,{height:"8",showText:!1,percentage:_.percentage5,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},{default:l((()=>[o(b,{class:"u-percentage-slot"},{default:l((()=>[c(u(_.percentage4)+"%",1)])),_:1})])),_:1},8,["percentage"])])),_:1})])),_:1})),o(v,{class:"u-demo-block"},{default:l((()=>[o(b,{class:"u-demo-block__title"},{default:l((()=>[c("手动加减")])),_:1}),o(v,{class:"u-demo-block__content"},{default:l((()=>[o(k,{height:"8",showText:!1,percentage:_.percentage6,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},null,8,["percentage"]),o(v,{class:"button-group"},{default:l((()=>[o(v,{class:"button-group__circle","hover-class":"u-hover-class",onClick:t[0]||(t[0]=e=>m.computedWidth("minus"))},{default:l((()=>[o(b,{class:"button-group__circle__text"},{default:l((()=>[c("减少")])),_:1})])),_:1}),o(v,{class:"button-group__circle","hover-class":"u-hover-class",onClick:t[1]||(t[1]=e=>m.computedWidth("plus"))},{default:l((()=>[o(b,{class:"button-group__circle__text"},{default:l((()=>[c("增加")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-a5bb914f"]]);export{m as default};
