import{o as t,c as l,w as i,f as o,a as s,k as r,n as e,i as n,x as a,g as c,b as d,r as u,F as _,h as p,d as m,l as h,t as g,e as f}from"./index-aa2b8fb8.js";import{_ as w}from"./u-icon.9dfb5cac.js";import{r as b}from"./uni-app.es.392722c2.js";import{m as y,a as x}from"./mixin.d0c91ebc.js";import{_ as W}from"./_plugin-vue_export-helper.1b428a4d.js";const v={props:{indicatorWidth:{type:[String,Number],default:()=>uni.$u.props.scrollList.indicatorWidth},indicatorBarWidth:{type:[String,Number],default:()=>uni.$u.props.scrollList.indicatorBarWidth},indicator:{type:Boolean,default:()=>uni.$u.props.scrollList.indicator},indicatorColor:{type:String,default:()=>uni.$u.props.scrollList.indicatorColor},indicatorActiveColor:{type:String,default:()=>uni.$u.props.scrollList.indicatorActiveColor},indicatorStyle:{type:[String,Object],default:()=>uni.$u.props.scrollList.indicatorStyle}}};function S(t,l){t.selectComponent(".u-scroll-list__indicator__line__bar")&&t.selectComponent(".u-scroll-list__indicator__line__bar").setStyle({transform:"translateX("+l+"px)"})}const $={scroll:function(t,l){var i=t.detail,o=i.scrollWidth,s=i.scrollLeft,r=t.currentTarget.dataset;S(l,s/(o-(r.scrollWidth||r.scrollwidth||0))*((r.indicatorWidth||r.indicatorwidth||0)-(r.barWidth||r.barwidth||0)))},scrolltolower:function(t,l){l.callMethod("scrollEvent","right");var i=t.currentTarget.dataset;S(l,(i.indicatorWidth||i.indicatorwidth||0)-(i.barWidth||i.barwidth||0))},scrolltoupper:function(t,l){l.callMethod("scrollEvent","left"),S(l,0)}},C=t=>{t.$wxs||(t.$wxs=[]),t.$wxs.push("wxs"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.wxs=$}})},j={name:"u-scroll-list",mixins:[y,x,v],data:()=>({scrollInfo:{scrollLeft:0,scrollWidth:0},scrollWidth:0}),computed:{barStyle(){const t={};return t.width=uni.$u.addUnit(this.indicatorBarWidth),t.backgroundColor=this.indicatorActiveColor,t},lineStyle(){const t={};return t.width=uni.$u.addUnit(this.indicatorWidth),t.backgroundColor=this.indicatorColor,t}},mounted(){this.init()},emits:["left","right"],methods:{init(){this.getComponentWidth()},scrollEvent(t){this.$emit(t)},async getComponentWidth(){await uni.$u.sleep(30),this.$uGetRect(".u-scroll-list").then((t=>{this.scrollWidth=t.width}))}}};C(j);const k=W(j,[["render",function(c,d,u,_,p,m){const h=n,g=a;return t(),l(h,{class:"u-scroll-list",ref:"u-scroll-list"},{default:i((()=>[o(" 以上平台，支持wxs "),s(g,{class:"u-scroll-list__scroll-view","scroll-x":"",onScroll:c.wxs.scroll,onScrolltoupper:c.wxs.scrolltoupper,onScrolltolower:c.wxs.scrolltolower,"data-scrollWidth":p.scrollWidth,"data-barWidth":c.$u.getPx(c.indicatorBarWidth),"data-indicatorWidth":c.$u.getPx(c.indicatorWidth),"show-scrollbar":!1,"upper-threshold":0,"lower-threshold":0},{default:i((()=>[s(h,{class:"u-scroll-list__scroll-view__content"},{default:i((()=>[r(c.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["onScroll","onScrolltoupper","onScrolltolower","data-scrollWidth","data-barWidth","data-indicatorWidth"]),c.indicator?(t(),l(h,{key:0,class:"u-scroll-list__indicator",style:e([c.$u.addStyle(c.indicatorStyle)])},{default:i((()=>[s(h,{class:"u-scroll-list__indicator__line",style:e([m.lineStyle])},{default:i((()=>[s(h,{class:"u-scroll-list__indicator__line__bar",style:e([m.barStyle]),ref:"u-scroll-list__indicator__line__bar"},null,8,["style"])])),_:1},8,["style"])])),_:1},8,["style"])):o("v-if",!0)])),_:3},512)}],["__scopeId","data-v-b7975acd"]]);const L=W({data:()=>({goodsBaseUrl:"https://cdn.uviewui.com/uview/goods/",menuBaseUrl:"https://cdn.uviewui.com/uview/menu/",goodsArr:[{price:"230.5",thumbnail:"1.jpg"},{price:"74.1",thumbnail:"2.jpg"},{price:"8457",thumbnail:"6.jpg"},{price:"1442",thumbnail:"5.jpg"},{price:"541",thumbnail:"2.jpg"},{price:"234",thumbnail:"3.jpg"},{price:"562",thumbnail:"4.jpg"},{price:"251.5",thumbnail:"1.jpg"}],menuArr:[[{name:"天猫新品",icon:"11.png"},{name:"今日爆款",icon:"9.png"},{name:"天猫国际",icon:"17.png"},{name:"饿了么",icon:"6.png"},{name:"天猫超市",icon:"11.png"},{name:"分类",icon:"2.png"},{name:"天猫美食",icon:"3.png"},{name:"阿里健康",icon:"12.png"},{name:"口碑生活",icon:"7.png"}],[{name:"充值中心",icon:"8.png"},{name:"机票酒店",icon:"10.png"},{name:"金币庄园",icon:"18.png"},{name:"阿里拍卖",icon:"15.png"},{name:"淘宝吃货",icon:"16.png"},{name:"闲鱼",icon:"4.png"},{name:"会员中心",icon:"6.png"},{name:"造点新货",icon:"13.png"},{name:"土货鲜食",icon:"14.png"}]]}),methods:{showMore(){uni.$u.toast("查看更多")},left(){console.log("left")},right(){console.log("right")}}},[["render",function(o,r,e,a,y,x){const W=p,v=f,S=n,$=b(m("u-icon"),w),C=b(m("u-scroll-list"),k);return t(),l(S,{class:"u-page"},{default:i((()=>[s(S,{class:"u-demo-block"},{default:i((()=>[s(W,{class:"u-demo-block__title",style:{"margin-bottom":"15px"}},{default:i((()=>[c("基础使用")])),_:1}),s(C,{indicatorColor:"#fff0f0",indicatorActiveColor:"#f56c6c",onRight:x.right,onLeft:x.left},{default:i((()=>[s(S,{class:"scroll-list",style:{"flex-direction":"row"}},{default:i((()=>[(t(!0),d(_,null,u(y.goodsArr,((o,r)=>(t(),l(S,{class:h(["scroll-list__goods-item",[9===r&&"scroll-list__goods-item--no-margin-right"]]),key:r},{default:i((()=>[s(v,{class:"scroll-list__goods-item__image",src:y.goodsBaseUrl+o.thumbnail,mode:""},null,8,["src"]),s(W,{class:"scroll-list__goods-item__text"},{default:i((()=>[c("￥"+g(o.price),1)])),_:2},1024)])),_:2},1032,["class"])))),128)),s(S,{class:"scroll-list__show-more",onClick:x.showMore},{default:i((()=>[s(W,{class:"scroll-list__show-more__text"},{default:i((()=>[c("查看更多")])),_:1}),s($,{name:"arrow-leftward",color:"#f56c6c",size:"12"})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["onRight","onLeft"])])),_:1}),s(S,{class:"u-demo-block"},{default:i((()=>[s(W,{class:"u-demo-block__title"},{default:i((()=>[c("多菜单扩展")])),_:1}),s(C,null,{default:i((()=>[s(S,{class:"scroll-list"},{default:i((()=>[(t(!0),d(_,null,u(y.menuArr,((o,r)=>(t(),l(S,{class:"scroll-list__line",key:r},{default:i((()=>[(t(!0),d(_,null,u(o,((r,e)=>(t(),l(S,{class:h(["scroll-list__line__item",[e===o.length-1&&"scroll-list__line__item--no-margin-right"]]),key:e},{default:i((()=>[s(v,{class:"scroll-list__line__item__image",src:y.menuBaseUrl+r.icon,mode:""},null,8,["src"]),s(W,{class:"scroll-list__line__item__text"},{default:i((()=>[c(g(r.name),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-48e69261"]]);export{L as default};
