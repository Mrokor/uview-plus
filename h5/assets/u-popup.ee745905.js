import{_ as o}from"./u-overlay.4ad4b95b.js";import{d as e,o as t,c as s,w as i,f as p,a as r,n,p as u,k as a,l,i as d}from"./index-aa2b8fb8.js";import{r as c}from"./uni-app.es.392722c2.js";import{_ as m}from"./u-status-bar.2f350129.js";import{_ as y}from"./u-icon.9dfb5cac.js";import{_ as f}from"./u-safe-bottom.39a17355.js";import{_ as h}from"./u-transition.a99c15fb.js";import{m as v,a as _}from"./mixin.d0c91ebc.js";import{_ as b}from"./_plugin-vue_export-helper.1b428a4d.js";const $=b({name:"u-popup",mixins:[v,_,{props:{show:{type:Boolean,default:()=>uni.$u.props.popup.show},overlay:{type:Boolean,default:()=>uni.$u.props.popup.overlay},mode:{type:String,default:()=>uni.$u.props.popup.mode},duration:{type:[String,Number],default:()=>uni.$u.props.popup.duration},closeable:{type:Boolean,default:()=>uni.$u.props.popup.closeable},overlayStyle:{type:[Object,String],default:()=>uni.$u.props.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:()=>uni.$u.props.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:()=>uni.$u.props.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:()=>uni.$u.props.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:()=>uni.$u.props.popup.safeAreaInsetTop},closeIconPos:{type:String,default:()=>uni.$u.props.popup.closeIconPos},round:{type:[Boolean,String,Number],default:()=>uni.$u.props.popup.round},zoom:{type:Boolean,default:()=>uni.$u.props.popup.zoom},bgColor:{type:String,default:()=>uni.$u.props.popup.bgColor},overlayOpacity:{type:[Number,String],default:()=>uni.$u.props.popup.overlayOpacity}}}],data(){return{overlayDuration:this.duration+50}},watch:{show(o,e){}},computed:{transitionStyle(){const o={zIndex:this.zIndex,position:"fixed",display:"flex"};return o[this.mode]=0,"left"===this.mode||"right"===this.mode?uni.$u.deepMerge(o,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?uni.$u.deepMerge(o,{left:0,right:0}):"center"===this.mode?uni.$u.deepMerge(o,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle(){const o={};if(uni.$u.sys(),"center"!==this.mode&&(o.flex=1),this.bgColor&&(o.backgroundColor=this.bgColor),this.round){const e=uni.$u.addUnit(this.round);"top"===this.mode?(o.borderBottomLeftRadius=e,o.borderBottomRightRadius=e):"bottom"===this.mode?(o.borderTopLeftRadius=e,o.borderTopRightRadius=e):"center"===this.mode&&(o.borderRadius=e)}return uni.$u.deepMerge(o,uni.$u.addStyle(this.customStyle))},position(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},emits:["open","close","click"],methods:{overlayClick(){this.closeOnClickOverlay&&this.$emit("close")},close(o){this.$emit("close")},afterEnter(){this.$emit("open")},clickHandler(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}},[["render",function(v,_,b,$,g,k){const S=c(e("u-overlay"),o),C=c(e("u-status-bar"),m),I=c(e("u-icon"),y),B=d,w=c(e("u-safe-bottom"),f),x=c(e("u-transition"),h);return t(),s(B,{class:"u-popup"},{default:i((()=>[v.overlay?(t(),s(S,{key:0,show:v.show,onClick:k.overlayClick,duration:g.overlayDuration,customStyle:v.overlayStyle,opacity:v.overlayOpacity},null,8,["show","onClick","duration","customStyle","opacity"])):p("v-if",!0),r(x,{show:v.show,customStyle:k.transitionStyle,mode:k.position,duration:v.duration,onAfterEnter:k.afterEnter,onClick:k.clickHandler},{default:i((()=>[r(B,{class:"u-popup__content",style:n([k.contentStyle]),onClick:u(v.noop,["stop"])},{default:i((()=>[v.safeAreaInsetTop?(t(),s(C,{key:0})):p("v-if",!0),a(v.$slots,"default",{},void 0,!0),v.closeable?(t(),s(B,{key:1,onClick:u(k.close,["stop"]),class:l(["u-popup__content__close",["u-popup__content__close--"+v.closeIconPos]]),"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},{default:i((()=>[r(I,{name:"close",color:"#909399",size:"18",bold:""})])),_:1},8,["onClick","class"])):p("v-if",!0),v.safeAreaInsetBottom?(t(),s(w,{key:2})):p("v-if",!0)])),_:3},8,["style","onClick"])])),_:3},8,["show","customStyle","mode","duration","onAfterEnter","onClick"])])),_:3})}],["__scopeId","data-v-1d1d8496"]]);export{$ as _};
