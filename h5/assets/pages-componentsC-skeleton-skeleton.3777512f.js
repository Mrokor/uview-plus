import{o as t,c as e,w as a,l as s,n as l,f as i,a as o,b as n,F as u,r,k as d,i as _,g as p,h as c,d as h,e as m}from"./index-4f0c5e1d.js";import{m as f,a as w}from"./mixin.d0c91ebc.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as k}from"./uni-app.es.fcad82c0.js";import{_ as y}from"./u-switch.c0bbc068.js";import{_ as b}from"./u-gap.7c7ec09c.js";import{_ as $}from"./u--text.3ba6596a.js";import{_ as v}from"./logo.e6a56f74.js";import"./u-loading-icon.b1b77ee0.js";import"./u-icon.e9ca9d71.js";import"./u-link.2a6cd9b0.js";const x=g({name:"u-skeleton",mixins:[f,w,{props:{loading:{type:Boolean,default:()=>uni.$u.props.skeleton.loading},animate:{type:Boolean,default:()=>uni.$u.props.skeleton.animate},rows:{type:[String,Number],default:()=>uni.$u.props.skeleton.rows},rowsWidth:{type:[String,Number,Array],default:()=>uni.$u.props.skeleton.rowsWidth},rowsHeight:{type:[String,Number,Array],default:()=>uni.$u.props.skeleton.rowsHeight},title:{type:Boolean,default:()=>uni.$u.props.skeleton.title},titleWidth:{type:[String,Number],default:()=>uni.$u.props.skeleton.titleWidth},titleHeight:{type:[String,Number],default:()=>uni.$u.props.skeleton.titleHeight},avatar:{type:Boolean,default:()=>uni.$u.props.skeleton.avatar},avatarSize:{type:[String,Number],default:()=>uni.$u.props.skeleton.avatarSize},avatarShape:{type:String,default:()=>uni.$u.props.skeleton.avatarShape}}}],data:()=>({width:0}),watch:{loading(){this.getComponentWidth()}},computed:{rowsArray(){/%$/.test(this.rowsHeight)&&uni.$u.error("rowsHeight参数不支持百分比单位");const t=[];for(let e=0;e<this.rows;e++){let a={},s=uni.$u.test.array(this.rowsWidth)?this.rowsWidth[e]||(e===this.rows-1?"70%":"100%"):e===this.rows-1?"70%":this.rowsWidth,l=uni.$u.test.array(this.rowsHeight)?this.rowsHeight[e]||"18px":this.rowsHeight;a.marginTop=this.title||0!==e?this.title&&0===e?"20px":"12px":0,/%$/.test(s)?a.width=uni.$u.addUnit(this.width*parseInt(s)/100):a.width=uni.$u.addUnit(s),a.height=uni.$u.addUnit(l),t.push(a)}return t},uTitleWidth(){let t=0;return t=/%$/.test(this.titleWidth)?uni.$u.addUnit(this.width*parseInt(this.titleWidth)/100):uni.$u.addUnit(this.titleWidth),uni.$u.addUnit(t)}},mounted(){this.init()},methods:{init(){this.getComponentWidth()},async setNvueAnimation(){},async getComponentWidth(){await uni.$u.sleep(20),this.$uGetRect(".u-skeleton__wrapper__content").then((t=>{this.width=t.width}))}}},[["render",function(p,c,h,m,f,w){const g=_;return t(),e(g,{class:"u-skeleton"},{default:a((()=>[p.loading?(t(),e(g,{key:0,class:"u-skeleton__wrapper",ref:"u-skeleton__wrapper",style:{display:"flex","flex-direction":"row"}},{default:a((()=>[p.avatar?(t(),e(g,{key:0,class:s(["u-skeleton__wrapper__avatar",[`u-skeleton__wrapper__avatar--${p.avatarShape}`,p.animate&&"animate"]]),style:l({height:p.$u.addUnit(p.avatarSize),width:p.$u.addUnit(p.avatarSize)})},null,8,["class","style"])):i("v-if",!0),o(g,{class:"u-skeleton__wrapper__content",ref:"u-skeleton__wrapper__content",style:{flex:"1"}},{default:a((()=>[p.title?(t(),e(g,{key:0,class:s(["u-skeleton__wrapper__content__title",[p.animate&&"animate"]]),style:l({width:w.uTitleWidth,height:p.$u.addUnit(p.titleHeight)})},null,8,["style","class"])):i("v-if",!0),(t(!0),n(u,null,r(w.rowsArray,((a,i)=>(t(),e(g,{class:s(["u-skeleton__wrapper__content__rows",[p.animate&&"animate"]]),key:i,style:l({width:a.width,height:a.height,marginTop:a.marginTop})},null,8,["class","style"])))),128))])),_:1},512)])),_:1},512)):d(p.$slots,"default",{key:1},void 0,!0)])),_:3})}],["__scopeId","data-v-ce0e186f"]]);const W=g({data:()=>({switch1:!0,switch2:!1})},[["render",function(s,l,n,u,r,d){const f=c,w=k(h("u-skeleton"),x),g=_,W=k(h("u-switch"),y),S=k(h("u-gap"),b),H=m,j=k(h("u--text"),$);return t(),e(g,{class:"u-page"},{default:a((()=>[o(g,{class:"u-demo-block"},{default:a((()=>[o(f,{class:"u-demo-block__title"},{default:a((()=>[p("基础使用")])),_:1}),o(g,{class:"u-demo-block__content"},{default:a((()=>[o(w,{rows:"3",title:"",loading:""})])),_:1})])),_:1}),o(g,{class:"u-demo-block"},{default:a((()=>[o(f,{class:"u-demo-block__title"},{default:a((()=>[p("自定义段落行数")])),_:1}),o(g,{class:"u-demo-block__content"},{default:a((()=>[o(w,{rows:"2",title:"",loading:""})])),_:1})])),_:1}),o(g,{class:"u-demo-block"},{default:a((()=>[o(f,{class:"u-demo-block__title"},{default:a((()=>[p("设置段落宽度")])),_:1}),o(g,{class:"u-demo-block__content"},{default:a((()=>[o(w,{rows:"2",title:"",rowsWidth:["100%","35%"],loading:""})])),_:1})])),_:1}),o(g,{class:"u-demo-block"},{default:a((()=>[o(f,{class:"u-demo-block__title"},{default:a((()=>[p("设置段落高度")])),_:1}),o(g,{class:"u-demo-block__content"},{default:a((()=>[o(w,{rows:"3",title:"",rowsWidth:["100%","100%","100%"],rowsHeight:["18px","18px","80px"],loading:""})])),_:1})])),_:1}),o(g,{class:"u-demo-block"},{default:a((()=>[o(f,{class:"u-demo-block__title"},{default:a((()=>[p("是否开启动画")])),_:1}),o(W,{modelValue:r.switch1,"onUpdate:modelValue":l[0]||(l[0]=t=>r.switch1=t),space:"2",inactiveColor:"#e6e6e6"},null,8,["modelValue"]),o(S,{height:"15",bgColor:"#fff"}),o(g,{class:"u-demo-block__content"},{default:a((()=>[o(w,{animate:r.switch1,rows:"3",title:"",loading:""},null,8,["animate"])])),_:1})])),_:1}),o(g,{class:"u-demo-block"},{default:a((()=>[o(f,{class:"u-demo-block__title"},{default:a((()=>[p("展示头像")])),_:1}),o(S,{height:"15",bgColor:"#fff"}),o(g,{class:"u-demo-block__content"},{default:a((()=>[o(w,{animate:r.switch1,rows:"3",title:"",loading:"",avatar:""},null,8,["animate"])])),_:1})])),_:1}),o(g,{class:"u-demo-block"},{default:a((()=>[o(f,{class:"u-demo-block__title"},{default:a((()=>[p("切换状态")])),_:1}),o(W,{modelValue:r.switch2,"onUpdate:modelValue":l[1]||(l[1]=t=>r.switch2=t),space:"2",inactiveColor:"#e6e6e6"},null,8,["modelValue"]),o(S,{height:"15",bgColor:"#fff"}),o(g,{class:"u-demo-block__content"},{default:a((()=>[o(w,{rows:"2",title:"",loading:r.switch2,avatar:"",rowsHeight:"14"},{default:a((()=>[i(" 需要在外部多嵌套一层占位view，否则在nvue下会导致样式失效 "),o(g,null,{default:a((()=>[o(g,{class:"u-skeleton-slot"},{default:a((()=>[o(H,{src:v,class:"u-skeleton-slot__image"}),o(g,{class:"u-skeleton-slot__content"},{default:a((()=>[o(j,{text:"利剑出鞘,一统江湖",type:"main",size:"16"}),o(j,{type:"tips",size:"14",customStyle:"margin-top: 5px",text:"众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用"})])),_:1})])),_:1})])),_:1})])),_:1},8,["loading"])])),_:1}),o(S,{height:"50",bgColor:"transparent"})])),_:1})])),_:1})}],["__scopeId","data-v-3147225a"]]);export{W as default};
