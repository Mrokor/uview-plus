import{l as e,m as l,f as t,n as o,v as a,o as u,c as d,w as n,b as s,F as i,r as c,s as m,j as r,t as p,u as h,a as _,i as f,k as b,a3 as g,d as y}from"./index-46938ef1.js";import{_ as V}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as x}from"./uni-app.es.4906cff5.js";const v=V({name:"u-code-input",mixins:[l,t,{props:{adjustPosition:{type:Boolean,default:()=>e.codeInput.adjustPosition},maxlength:{type:[String,Number],default:()=>e.codeInput.maxlength},dot:{type:Boolean,default:()=>e.codeInput.dot},mode:{type:String,default:()=>e.codeInput.mode},hairline:{type:Boolean,default:()=>e.codeInput.hairline},space:{type:[String,Number],default:()=>e.codeInput.space},modelValue:{type:[String,Number],default:()=>e.codeInput.value},focus:{type:Boolean,default:()=>e.codeInput.focus},bold:{type:Boolean,default:()=>e.codeInput.bold},color:{type:String,default:()=>e.codeInput.color},fontSize:{type:[String,Number],default:()=>e.codeInput.fontSize},size:{type:[String,Number],default:()=>e.codeInput.size},disabledKeyboard:{type:Boolean,default:()=>e.codeInput.disabledKeyboard},borderColor:{type:String,default:()=>e.codeInput.borderColor},disabledDot:{type:Boolean,default:()=>e.codeInput.disabledDot}}}],data(){return{inputValue:"",isFocus:this.focus}},watch:{modelValue:{immediate:!0,handler(e){this.inputValue=String(e).substring(0,this.maxlength)}}},computed:{codeLength(){return new Array(Number(this.maxlength))},itemStyle(){return e=>{const l={width:o(this.size),height:o(this.size)};return"box"===this.mode&&(l.border=`${this.hairline?.5:1}px solid ${this.borderColor}`,0===a(this.space)&&(0===e&&(l.borderTopLeftRadius="3px",l.borderBottomLeftRadius="3px"),e===this.codeLength.length-1&&(l.borderTopRightRadius="3px",l.borderBottomRightRadius="3px"),e!==this.codeLength.length-1&&(l.borderRight="none"))),e!==this.codeLength.length-1?l.marginRight=o(this.space):l.marginRight=0,l}},codeArray(){return String(this.inputValue).split("")},lineStyle(){const e={};return e.height=this.hairline?"2px":"4px",e.width=o(this.size),e.backgroundColor=this.borderColor,e}},emits:["change","finish","update:modelValue"],methods:{addUnit:o,inputHandler(e){const l=e.detail.value;this.inputValue=l,this.disabledDot&&this.$nextTick((()=>{this.inputValue=l.replace(".","")})),this.$emit("change",l),this.$emit("update:modelValue",l),String(l).length>=Number(this.maxlength)&&this.$emit("finish",l)}}},[["render",function(e,l,t,o,a,y){const V=f,x=b,v=g;return u(),d(V,{class:"u-code-input"},{default:n((()=>[(u(!0),s(i,null,c(y.codeLength,((l,t)=>(u(),d(V,{class:"u-code-input__item",style:m([y.itemStyle(t)]),key:t},{default:n((()=>[e.dot&&y.codeArray.length>t?(u(),d(V,{key:0,class:"u-code-input__item__dot"})):(u(),d(x,{key:1,style:m({fontSize:y.addUnit(e.fontSize),fontWeight:e.bold?"bold":"normal",color:e.color})},{default:n((()=>[r(p(y.codeArray[t]),1)])),_:2},1032,["style"])),"line"===e.mode?(u(),d(V,{key:2,class:"u-code-input__item__line",style:m([y.lineStyle])},null,8,["style"])):h("",!0),a.isFocus&&y.codeArray.length===t?(u(),d(V,{key:3,style:m({backgroundColor:e.color}),class:"u-code-input__item__cursor"},null,8,["style"])):h("",!0)])),_:2},1032,["style"])))),128)),_(v,{disabled:e.disabledKeyboard,type:"number",focus:e.focus,value:a.inputValue,maxlength:e.maxlength,adjustPosition:e.adjustPosition,class:"u-code-input__input",onInput:y.inputHandler,style:m({height:y.addUnit(e.size)}),onFocus:l[0]||(l[0]=e=>a.isFocus=!0),onBlur:l[1]||(l[1]=e=>a.isFocus=!1)},null,8,["disabled","focus","value","maxlength","adjustPosition","onInput","style"])])),_:1})}],["__scopeId","data-v-4b05f6ed"]]);const k=V({data:()=>({value1:"",value2:"",value3:"",value4:"",value5:"",value6:"",value7:"",value8:"",value9:"123",value10:"34"}),methods:{change(e){console.log("change",e)},finish(e){console.log("finish",e)}}},[["render",function(e,l,t,o,a,s){const i=b,c=x(y("up-code-input"),v),m=f;return u(),d(m,{class:"u-page"},{default:n((()=>[_(m,{class:"u-demo-block"},{default:n((()=>[_(i,{class:"u-demo-block__title"},{default:n((()=>[r("基础使用")])),_:1}),_(m,{class:"u-demo-block__content"},{default:n((()=>[_(c,{modelValue:a.value1,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value1=e),maxlength:4,onChange:s.change,onFinish:s.finish},null,8,["modelValue","onChange","onFinish"])])),_:1})])),_:1}),_(m,{class:"u-demo-block"},{default:n((()=>[_(i,{class:"u-demo-block__title"},{default:n((()=>[r("横线模式")])),_:1}),_(m,{class:"u-demo-block__content"},{default:n((()=>[_(c,{modelValue:a.value2,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value2=e),mode:"line",maxlength:4,bold:!0},null,8,["modelValue"])])),_:1})])),_:1}),_(m,{class:"u-demo-block"},{default:n((()=>[_(i,{class:"u-demo-block__title"},{default:n((()=>[r("设置长度")])),_:1}),_(m,{class:"u-demo-block__content"},{default:n((()=>[_(c,{modelValue:a.value3,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value3=e),maxlength:6},null,8,["modelValue"])])),_:1})])),_:1}),_(m,{class:"u-demo-block"},{default:n((()=>[_(i,{class:"u-demo-block__title"},{default:n((()=>[r("设置间距")])),_:1}),_(m,{class:"u-demo-block__content"},{default:n((()=>[_(c,{modelValue:a.value4,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value4=e),mode:"box",space:0,maxlength:4},null,8,["modelValue"])])),_:1})])),_:1}),_(m,{class:"u-demo-block"},{default:n((()=>[_(i,{class:"u-demo-block__title"},{default:n((()=>[r("细边框")])),_:1}),_(m,{class:"u-demo-block__content"},{default:n((()=>[_(c,{modelValue:a.value5,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value5=e),mode:"box",space:0,maxlength:4,hairline:""},null,8,["modelValue"])])),_:1}),_(m,{class:"u-demo-block__content",style:{"margin-top":"10px"}},{default:n((()=>[_(c,{modelValue:a.value6,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value6=e),mode:"line",space:10,maxlength:4,hairline:""},null,8,["modelValue"])])),_:1})])),_:1}),_(m,{class:"u-demo-block"},{default:n((()=>[_(i,{class:"u-demo-block__title"},{default:n((()=>[r("调整颜色")])),_:1}),_(m,{class:"u-demo-block__content"},{default:n((()=>[_(c,{modelValue:a.value7,"onUpdate:modelValue":l[6]||(l[6]=e=>a.value7=e),mode:"box",space:0,maxlength:4,hairline:"",color:"#f56c6c",borderColor:"#f56c6c"},null,8,["modelValue"]),_(m,{class:"u-demo-block__content",style:{"margin-top":"10px"}},{default:n((()=>[_(c,{modelValue:a.value10,"onUpdate:modelValue":l[7]||(l[7]=e=>a.value10=e),mode:"line",size:"30",maxlength:4,hairline:"",color:"#3c9cff",borderColor:"#3c9cff"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),_(m,{class:"u-demo-block"},{default:n((()=>[_(i,{class:"u-demo-block__title"},{default:n((()=>[r("点模式")])),_:1}),_(m,{class:"u-demo-block__content"},{default:n((()=>[_(c,{modelValue:a.value8,"onUpdate:modelValue":l[8]||(l[8]=e=>a.value8=e),mode:"box",dot:"",space:0,maxlength:4,hairline:""},null,8,["modelValue"])])),_:1})])),_:1}),_(m,{class:"u-demo-block"},{default:n((()=>[_(i,{class:"u-demo-block__title"},{default:n((()=>[r("预置内容")])),_:1}),_(m,{class:"u-demo-block__content"},{default:n((()=>[_(c,{modelValue:a.value9,"onUpdate:modelValue":l[9]||(l[9]=e=>a.value9=e),mode:"box",space:0,maxlength:4,hairline:"",fontSize:"17"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})}]]);export{k as default};
