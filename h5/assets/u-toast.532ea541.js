import{_ as t}from"./u-loading-icon.a9ecbb61.js";import{m as o,f as e,J as i,K as s,L as n,I as a,p as r,d as m,o as l,c as p,w as c,a as g,y as u,s as f,u as y,j as h,t as d,k as C,i as _}from"./index-810d0856.js";import{r as w}from"./uni-app.es.2f77107e.js";import{_ as x}from"./u-icon.c0a87465.js";import{_ as S}from"./u-gap.30e1c5f4.js";import{_ as j}from"./u-overlay.eb120e2f.js";import{_ as b}from"./_plugin-vue_export-helper.1b428a4d.js";const v=b({name:"u-toast",mixins:[o,e],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!1,loading:!1},tmpConfig:{}}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?i(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},loadingIconColor(){let t="rgb(255, 255, 255)";return["error","warning","success","primary"].includes(this.tmpConfig.type)&&(t=s(n[this.tmpConfig.type])),t},contentStyle(){const t=a().windowHeight,o={};let e=0;return"top"===this.tmpConfig.position?e=.25*-t:"bottom"===this.tmpConfig.position&&(e=.25*t),o.transform=`translateY(${e}px)`,o}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=o=>this.show({type:t,message:o})}))},methods:{show(t){this.tmpConfig=r(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},beforeUnmount(){this.clearTimer()}},[["render",function(o,e,i,s,n,a){const r=w(m("u-loading-icon"),t),b=w(m("u-icon"),x),v=w(m("u-gap"),S),T=C,k=_,I=w(m("u-overlay"),j);return l(),p(k,{class:"u-toast"},{default:c((()=>[g(I,{show:n.isShow,"custom-style":a.overlayStyle},{default:c((()=>[g(k,{class:u(["u-toast__content",["u-type-"+n.tmpConfig.type,"loading"===n.tmpConfig.type||n.tmpConfig.loading?"u-toast__content--loading":""]]),style:f([a.contentStyle])},{default:c((()=>["loading"===n.tmpConfig.type?(l(),p(r,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==n.tmpConfig.type&&a.iconName?(l(),p(b,{key:1,name:a.iconName,size:"17",color:n.tmpConfig.type,customStyle:a.iconStyle},null,8,["name","color","customStyle"])):y("",!0),"loading"===n.tmpConfig.type||n.tmpConfig.loading?(l(),p(v,{key:2,height:"12",bgColor:"transparent"})):y("",!0),g(T,{class:u(["u-toast__content__text",["u-toast__content__text--"+n.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:c((()=>[h(d(n.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-e335c750"]]);export{v as _};
